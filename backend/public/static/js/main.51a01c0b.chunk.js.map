{"version":3,"sources":["history.js","cmps/BoardPreview.js","cmps/BoardsList.js","services/SocketService.js","services/utils.js","services/HttpService.js","services/UserService.js","actions/UserActions.js","cmps/Login.js","services/BoardService.js","actions/BoardActions.js","pages/Home.js","cmps/LoadPage.js","cmps/TopMenuOptions.js","cmps/dynamics/mapDynamicComponents.js","cmps/dynamics/TaskPreview.js","cmps/dynamics/VideoPreview.js","cmps/dynamics/ImagePreview.js","cmps/dynamics/DynamicComponent.js","cmps/TasksList.js","cmps/ColumnAddForm.js","cmps/TaskForm.js","cmps/BoardColumns.js","cmps/BoardHistory.js","cmps/BoardTeamMembers.js","cmps/Filter.js","cmps/Sort.js","cmps/SplashMenu.js","cmps/DueDate.js","cmps/Labels.js","cmps/Members.js","cmps/TaskDetails.js","cmps/MiniDetailsButton.js","cmps/MiniDetailsEditor.js","cmps/ScreenFilter.js","cmps/dynamics/MiniTextDetails.js","cmps/dynamics/MiniImageDetails.js","cmps/dynamics/mapDynamicMiniComponents.js","cmps/dynamics/MiniVideoDetails.js","cmps/dynamics/DynamicMiniComponent.js","pages/Board.js","pages/EmptyBoard.js","App.js","serviceWorker.js","reducers/BoardReducer.js","reducers/UserReducer.js","reducers/SystemReducer.js","reducers/index.js","store.js","index.js"],"names":["history","createBrowserHistory","BoardPreview","board","style","height","width","src","alt","withRouter","socket","newBoards","boards","filter","_id","className","map","key","to","setup","io","terminate","on","eventName","cb","off","emit","data","getRandomId","letters","id","i","ind","Math","floor","random","length","createUserIcon","firstName","lastName","charAt","getRandomColor","color","uploadImg","file","UPLOAD_URL","formData","FormData","append","axios","post","then","res","url","catch","err","console","error","getImagesFromUnsplash","filterName","URL","get","results","emitNotification","msg","type","notification","message","insert","container","animationIn","animationOut","dismiss","duration","SocketService","Axios","create","withCredentials","endpoint","ajax","a","async","method","log","dir","response","status","push","login","userCred","HttpService","user","logout","signup","getLoggedInUser","getUsers","users","dispatch","UserService","_setUser","_setUsers","Login","state","loginCred","email","password","signupCred","username","utils","loginHandleChange","ev","target","name","value","setState","prevState","signupHandleChange","doLogin","preventDefault","userCreds","props","doSignup","signupCreds","toggleLogin","doLogout","doStopPropagation","stopPropagation","this","signupSection","onSubmit","onChange","placeholder","loginSection","loggedInUser","toggleState","onClick","Component","mapDispatchToProps","connect","isLoading","system","add","query","boardId","filterBy","sortBy","sortOrder","Object","keys","join","_createQueryString","put","remove","_setBoards","loadBoard","BoardService","_setBoard","_boardUpdate","createBoard","addedBoard","_addBoard","Home","closeLogin","createdBy","time","Date","now","newBoard","loadBoards","title","button","Button","variant","Fab","href","pageLoading","CircularProgress","TopMenuOptions","onCopy","column","newColumn","newId","columnOrder","taskIds","forEach","currId","tasks","newTask","idx","findIndex","currIdx","splice","columns","toggleTopMenuOptions","onDelete","text","elTop","elLeft","elHeight","toggleMiniDetails","miniTask","task","left","refs","ref","getBoundingClientRect","top","previewType","provided","innerRef","isDragging","showEditBtn","onTaskId","draggableProps","dragHandleProps","labels","label","description","e","taskTeamMembers","member","backgroundColor","video","allowFullScreen","security","image","imgWidth","imgHeight","isMiniDetailsOn","setNewState","_","img","Image","onload","heightRatio","newWidth","widthRatio","newHeight","DynamicComponent","componentType","mapDynamicComponents","Cmp","getComponent","Fragment","TasksList","showAddForm","currTaskId","showTaskDetails","toggleTaskDetails","canOpenTaskDetails","taskId","hideEditBtn","isDraggingOver","droppableProps","draggableId","index","snapshot","rotationMultiplier","onMouseEnter","onMouseLeave","ColumnAddForm","inputChange","fieldName","saveColumn","includes","updateBoard","toggleAddForm","unshift","nameInput","focus","setFormDataForEdit","prevProps","input","TaskForm","createdAt","dueDate","importance","creator","edit","save","checkIfUrlAndSave","saveTask","closeUpdateForm","toggleUpdateForm","textAreaAdjust","scrollHeight","match","newUrl","replace","onKeyUp","BoardColumns","showAddColumnForm","showTopMenuOptions","currColumnId","anchorEl","timer","showForm","taskKey","onDragEnd","result","destination","source","droppableId","newColumnOrder","slice","columnTitle","start","finish","newTaskIds","taskTitle","startTaskIds","newStart","finishTaskIds","newFinish","handleCheck","colId","clearTimeout","setTimeout","updatedBoard","emitChange","innerText","openUpdateForm","direction","columnKey","contentEditable","spellCheck","onInput","suppressContentEditableWarning","BoardHistory","showHistory","item","moment","calendar","BoardTeamMembers","currentBoardMembers","toggleUsersList","componentDidMount","teamMembers","updateTeamMembers","find","teamMember","onStopPropagation","toggleBoardTeamMembers","Filter","onFilterClick","onFilter","Sort","onSortBy","onSort","toggleButtonName","splashImagesUrls","filterByName","onSave","splashImages","UrlIndx","currUrl","urls","full","setBoardBackground","boardBgImage","toggleSplashMenu","display","onAddImg","htmlFor","imageUrl","DueDate","setDate","handleChange","date","getTime","selected","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","React","Labels","choosenLabels","updateChoosenLabels","classList","labelIdx","currLabel","updateStyle","toggleChooseLabels","Members","choosenMembers","availableMembers","setAvailableMembers","currMember","taskMember","updateChoosenMembers","memberIdx","toggleChooseMembers","TaskDetails","showActivity","showEditDescriptionForm","deuDate","choosenlabels","onToggleDueDate","targetValue","toggleUpdateDescriptionForm","closeUpdateDescriptionForm","onStopPropagationAndCloseOptions","onSaveDescription","rows","cols","defaultValue","onToggle","MiniDetailsButton","MiniDetailsEditor","onToggleLabels","onToggleMembers","ScreenFilter","MiniTextDetails","handleFocus","select","textarea","labelLen","onFocus","MiniImageDetails","position","videoDimensions","bottom","DynamicMiniComponent","mapDynamicMiniComponents","Board","showAddColumn","showMiniTaskDetails","toggleUploadBgImg","miniTaskDetails","params","goBack","closeAllTabs","currTask","undefined","files","toggleBoardHistory","setBoard","store","addNotification","backgroundImage","showUploadBgImg","EmptyBoard","isTaskDetailsOccupied","saveBoard","sessionBoard","JSON","parse","sessionStorage","getItem","updateBoardOffline","loginButton","saveBoardButton","setItem","stringify","App","path","component","exact","Boolean","window","location","hostname","initialState","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","Store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.51a01c0b.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;","import React from \"react\";\r\n\r\nexport default function BoardPreview({ board }) {\r\n    return (\r\n      <img style={{height:\"100%\" , width:\"100%\"}} src = \"https://blog.trello.com/hs-fs/hubfs/How%20Managers%20Use%20Trello/TreamGoalSettingCentral.png?width=2519&name=TreamGoalSettingCentral.png\" alt=\"none\"> \r\n      </img>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport BoardPreview from \"./BoardPreview\";\r\n\r\nfunction BoardsList({ boards }) {\r\n\r\n    const newBoards = boards.filter(board => board._id !== '5e2581b51c9d44000081af2a');\r\n\r\n    return (\r\n        <section className=\"boards-list\">\r\n            <div className=\"boards-list-main-container flex\">\r\n                <div className=\"boards-list-main-inner-container flex\">\r\n                    {newBoards.map(board => (\r\n                        <Link className=\"boards-list-main-inner-container-item\" key={board._id} to={`/board/${board._id}`}>\r\n                            <BoardPreview board={board} />\r\n                        </Link>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default withRouter(BoardsList)","import io from 'socket.io-client';\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030';\r\n\r\nlet socket;\r\n\r\nexport default {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit\r\n};\r\n\r\nfunction setup() {\r\n  socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null;\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n  socket.on(eventName, cb);\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n  socket.off(eventName, cb);\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  socket.emit(eventName, data);\r\n}\r\n","import axios from 'axios'\r\n\r\nimport SocketService from './SocketService';\r\n\r\nexport default { getRandomId, \r\n                 createUserIcon, \r\n                 getRandomColor, \r\n                 uploadImg, \r\n                 getImagesFromUnsplash,\r\n                 emitNotification }\r\n\r\nfunction getRandomId() {\r\n  let letters = '1234567890poiiytreqwasdfghjklmnbvcxxssersgyushquiz';\r\n  let id = '';\r\n  for (let i = 0; i < 10; i++) {\r\n    let ind = Math.floor(Math.random() * letters.length)\r\n    id += letters[ind];\r\n  }\r\n  return id;\r\n}\r\n\r\nfunction createUserIcon(firstName, lastName) {\r\n  let newIcon = firstName.charAt(0) + lastName.charAt(0)\r\n  return (newIcon)\r\n}\r\n\r\nfunction getRandomColor() {\r\n  var letters = '0123456789ABCDEF';\r\n  var color = '#';\r\n  for (var i = 0; i < 6; i++) {\r\n    color += letters[Math.floor(Math.random() * 16)];\r\n  }\r\n  return color;\r\n}\r\n\r\nfunction uploadImg(file) {\r\n  const CLOUD_NAME = 'dujlxvxxv'\r\n  const PRESET_NAME = 'xi62wuas'\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  formData.append('upload_preset', PRESET_NAME);\r\n\r\n  return axios.post(UPLOAD_URL, formData)\r\n    .then(res => res.data)\r\n    .then(res => {\r\n      return res.url\r\n    })\r\n    .catch(err => console.error(err))\r\n}\r\n\r\nfunction getImagesFromUnsplash(filterName) {\r\n  const client_id = '9a992bf0a58ef7c4735758c98ec044dcdb524c2178db25d55cd773d7436f15d1'\r\n  const URL = `https://api.unsplash.com/search/photos?query=${filterName}&client_id=${client_id}`\r\n  return axios.get(URL)\r\n    .then(res => res.data)\r\n    .then(res => {\r\n      return res.results\r\n    })\r\n    .catch(err => console.error(err))\r\n}\r\n\r\nfunction emitNotification(msg, type) {\r\n  let notification = {\r\n    message: msg,\r\n    type: type,\r\n    insert: \"top\",\r\n    container: \"bottom-right\",\r\n    animationIn: [\"animated\", \"zoomIn\"],\r\n    animationOut: [\"animated\", \"fadeOut\"],\r\n    dismiss: {\r\n      duration: 5000,\r\n    }\r\n  };\r\n  SocketService.emit('sendNotification', notification);\r\n}","import history from '../history';\r\nimport Axios from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data){\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data){\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data){\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data){\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\n\r\nasync function ajax(endpoint, method='get', data=null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        if (err.response && err.response.status === 401) {\r\n          history.push('/');\r\n        }\r\n        throw err;\r\n    }\r\n}","import HttpService from './HttpService'\r\n\r\nexport default {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedInUser,\r\n    getUsers\r\n}\r\n\r\nasync function login(userCred) {\r\n    try {\r\n        const user = await HttpService.post('auth/login', userCred);\r\n        return user;\r\n    } catch (err) {\r\n        console.log('UserService: err in login', err);\r\n    }\r\n}\r\n\r\nasync function signup(userCred) {\r\n    try {\r\n        const user = await HttpService.post('auth/signup', userCred);\r\n        return user;\r\n    } catch (err) {\r\n        console.log('UserService: err in signup', err);\r\n    }\r\n}\r\n\r\nasync function logout() {\r\n    try {\r\n        await HttpService.post('auth/logout');\r\n    } catch (err) {\r\n        console.log('UserService: err in logout', err);\r\n    }\r\n}\r\n\r\nasync function getLoggedInUser() {\r\n    try {\r\n        const user = await HttpService.get('auth/user');\r\n        return user;\r\n    } catch (err) {\r\n        console.log('UserService: err in getting loggedInUser', err);\r\n    }\r\n}\r\n\r\nasync function getUsers() {\r\n    try {\r\n        const users = await HttpService.get('user');\r\n        return users;\r\n    } catch (err) {\r\n        console.log('UserService: err in getting users', err);\r\n    }\r\n}\r\n","import UserService from '../services/UserService';\r\n// import { loading, doneLoading } from './SystemActions';\r\n// import history from './../history';\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await UserService.login(userCreds);\r\n      dispatch(_setUser(user));\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await UserService.signup(userCreds);\r\n      dispatch(_setUser(user));\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await UserService.logout();\r\n      dispatch(_setUser(null));\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function getLoggedInUser() {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await UserService.getLoggedInUser();\r\n      // localStorage.setItem('user', JSON.stringify(user));\r\n      dispatch(_setUser(user));\r\n    }  catch (err) {\r\n      console.log('UserActions: err in logout', err);\r\n    }\r\n  };\r\n}\r\n\r\nfunction _setUser(user) {\r\n  return {\r\n    type: 'SET_USER',\r\n    user\r\n  };\r\n}\r\n\r\nexport function getUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      const users = await UserService.getUsers();\r\n      dispatch(_setUsers(users));\r\n    } catch (err) {\r\n      console.log('UserActions: err in getUsers', err);\r\n    }\r\n  }\r\n}\r\n\r\nfunction _setUsers(users) {\r\n  return {\r\n    type: 'SET_USERS',\r\n    users\r\n  };\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport utils from '../services/utils'\r\n\r\nimport {\r\n  // loadUsers,\r\n  getLoggedInUser,\r\n  login,\r\n  logout,\r\n  signup\r\n} from '../actions/UserActions';\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    msg: '',\r\n    loginCred: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    signupCred: {\r\n      firstName: '',\r\n      lastName: '',\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      color: utils.getRandomColor()\r\n    },\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getLoggedInUser();\r\n  }\r\n\r\n  loginHandleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState(prevState => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  signupHandleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState(prevState => ({\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  doLogin = async ev => {\r\n    ev.preventDefault();\r\n    const { email, password } = this.state.loginCred;\r\n    if (!email || !password) {\r\n      return this.setState({ msg: 'Please enter user/password' });\r\n    }\r\n    const userCreds = { email, password };\r\n    this.props.login(userCreds);\r\n    this.setState({ loginCred: { email: '', password: '' } });\r\n    // this.props.toggleLogin();\r\n  };\r\n\r\n  doSignup = async ev => {\r\n    ev.preventDefault();\r\n    const { firstName, lastName, username, email, password, color } = this.state.signupCred;\r\n    if (!firstName || !lastName || !email || !password || !username) {\r\n      return this.setState({ msg: 'All inputs are required!' });\r\n    }\r\n    const signupCreds = { firstName, lastName, username, email, password, color };\r\n    this.props.signup(signupCreds);\r\n    this.setState({ signupCred: { firstName: '', lastName: '', username: '', email: '', password: '' } });\r\n    this.props.toggleLogin();\r\n  };\r\n\r\n  doLogout = () => {\r\n    this.props.logout();\r\n  }\r\n\r\n  doStopPropagation = (ev) => {\r\n    ev.stopPropagation();\r\n  }\r\n\r\n  render() {\r\n    let signupSection = (\r\n      <form className=\"login-container-signup text-center\" onSubmit={this.doSignup}>\r\n        <p>Not a member yet? Sign up!</p>\r\n        <input\r\n          type=\"text\"\r\n          name=\"firstName\"\r\n          value={this.state.signupCred.firstName}\r\n          onChange={this.signupHandleChange}\r\n          placeholder=\"First Name\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"lastName\"\r\n          value={this.state.signupCred.lastName}\r\n          onChange={this.signupHandleChange}\r\n          placeholder=\"Last Name\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          value={this.state.signupCred.email}\r\n          onChange={this.signupHandleChange}\r\n          placeholder=\"Email\"\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={this.state.signupCred.username}\r\n          onChange={this.signupHandleChange}\r\n          placeholder=\"Username\"\r\n        />\r\n        <br />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={this.state.signupCred.password}\r\n          onChange={this.signupHandleChange}\r\n          placeholder=\"Password\"\r\n        />\r\n        <br />\r\n        <button className=\"login-container-signup-btn\">Signup</button>\r\n      </form>\r\n    );\r\n    let loginSection = (\r\n      <form className=\"login-container-login text-center\" onSubmit={this.doLogin}>\r\n        <p> Login: </p>\r\n        <input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          value={this.state.loginCred.email}\r\n          onChange={this.loginHandleChange}\r\n          placeholder=\"Email\"\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={this.state.loginCred.password}\r\n          onChange={this.loginHandleChange}\r\n          placeholder=\"Password\"\r\n        />\r\n        <br />\r\n        <button className=\"login-container-login-btn\">Login</button>\r\n      </form>\r\n    );\r\n\r\n    const { loggedInUser } = this.props;\r\n\r\n    return (\r\n\r\n      // <div className=\"screen\" onClick={() => this.props.toggleLogin()} >\r\n\r\n      <div className={\"login-container flex column align-center\"\r\n        + (this.props.toggleState ? ' translateLeft' : '')}\r\n        style={this.props.style}\r\n        onClick={this.doStopPropagation}>\r\n\r\n\r\n        <div className=\"login-container-logo\">\r\n        </div>\r\n        <h2>{this.state.msg}</h2>\r\n        <div className={\"login-container-form-container\"}>\r\n          {loggedInUser && (\r\n            <div>\r\n              <h2 className=\"login-container-loggedin-username\"> <p>Welcome!</p> {loggedInUser.username} </h2>\r\n              <div className=\"fill-width flex\">\r\n                <button className=\"login-container-form-container-logout\" onClick={this.doLogout}>Logout</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {!this.props.loggedInUser && loginSection}\r\n          <hr />\r\n          {!this.props.loggedInUser && signupSection}\r\n        </div>\r\n      </div>\r\n\r\n      // </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.user.users,\r\n    loggedInUser: state.user.loggedInUser,\r\n    isLoading: state.system.isLoading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  login,\r\n  logout,\r\n  signup,\r\n  getLoggedInUser\r\n  // loadUsers\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import HttpService from './HttpService';\r\n\r\nexport default {\r\n  add,\r\n  query,\r\n  get,\r\n  put,\r\n  remove\r\n};\r\n\r\nfunction query() {\r\n  return HttpService.get('board');\r\n}\r\n\r\nfunction get(boardId, filterBy, sortBy, sortOrder) {\r\n  return HttpService.get(`board/${boardId}?${_createQueryString(filterBy)}&sortby=${sortBy}&sortorder=${sortOrder}`);\r\n}\r\n\r\nfunction _createQueryString(filterBy) {\r\n  return Object.keys(filterBy).map(filter => filter + '=' + filterBy[filter]).join('&');\r\n}\r\n\r\nfunction put(board) {\r\n  return HttpService.put(`board/${board._id}`, board);\r\n}\r\n\r\nfunction remove(boardId) {\r\n  return HttpService.delete(`board/${boardId}`);\r\n}\r\n\r\nfunction add(board) {\r\n  return HttpService.post('board', board);\r\n}","import BoardService from '../services/BoardService';\r\n\r\nimport SocketService from '../services/SocketService';\r\n\r\nexport function loadBoards() {\r\n  return async dispatch => {\r\n    try {\r\n      const boards = await BoardService.query();\r\n      dispatch(_setBoards(boards));\r\n    } catch (err) {\r\n      console.log('BoardActions: err in loadBoards', err);\r\n    }\r\n  };\r\n}\r\n\r\nfunction _setBoards(boards) {\r\n  return {\r\n    type: 'SET_BOARDS',\r\n    boards\r\n  };\r\n}\r\n\r\nexport function loadBoard(boardId, filterBy, sortBy, sortOrder) {\r\n  return async dispatch => {\r\n    try {\r\n      const board = await BoardService.get(boardId, filterBy, sortBy, sortOrder);\r\n      dispatch(_setBoard(board));\r\n    } catch (err) {\r\n      console.log('BoardActions: err in loadBoard', err);\r\n    }\r\n  };\r\n}\r\n\r\nfunction _setBoard(board) {\r\n  return {\r\n    type: 'SET_BOARD',\r\n    board\r\n  }\r\n}\r\n\r\nexport function updateBoard(board) {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(_boardUpdate(board));\r\n      await BoardService.put(board);\r\n      SocketService.emit('boardUpdate', board);\r\n    } catch (err) {\r\n      console.log('BoardActions: err in loadBoard', err);\r\n    }\r\n  };\r\n}\r\n\r\nfunction _boardUpdate(board) {\r\n  return {\r\n    type: 'UPDATE_BOARD',\r\n    board\r\n  }\r\n}\r\n\r\nexport function updateBoardOffline(board) {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(_boardUpdate(board));\r\n      sessionStorage.setItem('board', JSON.stringify(board));\r\n    } catch (err) {\r\n      console.log('BoardActions: err in loadBoard', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function createBoard(board) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedBoard = await BoardService.add(board);\r\n      dispatch(_addBoard(addedBoard));\r\n      return addedBoard;\r\n    } catch (err) {\r\n      console.log('BoardActions: err in createBoard', err);\r\n    }\r\n  }\r\n\r\n  function _addBoard(addedBoard) {\r\n    return {\r\n      type: 'ADD_BOARD',\r\n      addedBoard\r\n    };\r\n  }\r\n}\r\n\r\nexport function setBoard(board) {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(_setBoard(board));\r\n    } catch (err) {\r\n      console.log('BoardActions: err in setBoard', err);\r\n    }\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\r\nimport FacebookIcon from '@material-ui/icons/Facebook';\r\n\r\nimport BoardsList from '../cmps/BoardsList';\r\nimport Login from '../cmps/Login';\r\n\r\nimport utils from '../services/utils';\r\n\r\nimport { loadBoards, loadBoard, createBoard } from '../actions/BoardActions'\r\nimport { logout } from '../actions/UserActions'\r\n\r\nclass Home extends Component {\r\n\r\n  state = {\r\n    toggleLogin: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.loadBoards();\r\n    const blankDefaultBoardId = '5e2581b51c9d44000081af2a';\r\n    const filterBy = { title: '' };\r\n    this.props.loadBoard(blankDefaultBoardId, filterBy);\r\n  }\r\n\r\n  toggleLogin = (ev) => {\r\n    if (ev) ev.stopPropagation();\r\n    this.setState((prevState) => ({ toggleLogin: !prevState.toggleLogin }))\r\n  }\r\n\r\n  closeLogin = (ev) => {\r\n    ev.stopPropagation()\r\n    this.setState({ toggleLogin: false })\r\n  }\r\n\r\n  createBoard = async () => {\r\n    let board = this.props.board;\r\n    let msg = `The Board was created by ${this.props.loggedInUser.username}`;\r\n    delete board._id;\r\n    board.createdBy = this.props.loggedInUser;\r\n    board.history = [{ id: utils.getRandomId(), msg: msg, time: Date.now() }];\r\n    const newBoard = await this.props.createBoard(board);\r\n    this.props.history.push(`/board/${newBoard._id}`);\r\n  }\r\n\r\n  render() {\r\n    let button;\r\n    if (this.props.loggedInUser) {\r\n      button = <Button variant=\"outlined\" className=\"home-page-login-btn\">\r\n        <div onClick={this.props.logout}>logout</div>\r\n      </Button>\r\n    } else {\r\n      button = <Button variant=\"outlined\" className=\"home-page-login-btn\">\r\n        <div onClick={this.toggleLogin}>login</div>\r\n      </Button>\r\n    }\r\n\r\n    return (\r\n      <div className=\"home-page\" onClick={this.closeLogin}>\r\n        <section className=\"home-page-header\">\r\n          <div variant=\"outlined\" className=\"home-page-login flex justify-end align-center\">\r\n            {(this.props.loggedInUser) &&\r\n              <p className=\"flex column\">\r\n                <small>welcome!</small>\r\n                {this.props.loggedInUser.username}\r\n              </p>\r\n            }\r\n            {button}\r\n          </div>\r\n\r\n          <Login\r\n            variant=\"outlined\"\r\n            className=\"home-page-login\"\r\n            toggleLogin={this.toggleLogin}\r\n            toggleState={this.state.toggleLogin} />\r\n\r\n          <div className=\"home-page-header-container\">\r\n            <div className=\"home-page-header-container-inner-container fill-height fill-width flex column align-center\">\r\n\r\n              <div className=\"home-page-header-container-logo\">\r\n                <div className=\"home-page-header-container-logo-img fill-width fill-height\">\r\n                </div>\r\n              </div>\r\n              <div className=\"get-started-btn\">\r\n                <Link to={'/board/getstarted'}>\r\n                  <Fab variant=\"extended\">\r\n                    <p>\r\n                      GET STARTED\r\n                    </p>\r\n                  </Fab>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </section>\r\n\r\n        <section className=\"home-page-boards-list flex column justify-center align-center\">\r\n          <div className=\"home-page-boards-list-start-new-board flex justify-center align-center\">\r\n            <div className=\"home-page-boards-list-start-new-board-card flex align-center justify-center\"\r\n              onClick={this.createBoard}>\r\n              <div className=\"flex column justify-center align-center\">\r\n                <h2>+ ADD NEW LIST</h2>\r\n                <small> please sign up first</small>\r\n              </div>\r\n            </div>\r\n            <p className=\"home-page-boards-list-start-new-board-right-text\">\r\n              We, in Trebello, believe that simplicity and style must go together,\r\n            that's why we made our brand simple and easy to use for everyone.<br /> <br />\r\n              Organize your team and take them one step ahead.</p>\r\n          </div>\r\n\r\n\r\n          <div className=\"home-page-boards-list-inspiration text-center flex column align-center justify-center\">\r\n            <h2 >GET SOME INSPIRATION</h2>\r\n          </div>\r\n          <BoardsList boards={this.props.boards} />\r\n\r\n        </section>\r\n\r\n        <section className=\"home-page-footer flex column align-center justify-center\">\r\n          <h2> OUR TEAM </h2>\r\n          <div className=\"home-pagge-footer-team-members-cards-container flex justify-center\">\r\n\r\n            <div className=\"home-page-footer-team-member-card flex column align-center justify-center\">\r\n              <div className=\"home-page-footer-team-member-card-member-img vlad\"></div>\r\n              <p>Vlad Batalin</p>\r\n              <small>Design and overall technical support</small>\r\n              <div className=\"flex\">\r\n                <LinkedInIcon className=\"linkedInIcon\"></LinkedInIcon>\r\n                <FacebookIcon className=\"faceBookIcon\"></FacebookIcon>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"home-page-footer-team-member-card flex column align-center justify-center\">\r\n              <div className=\"home-page-footer-team-member-card-member-img margad\"></div>\r\n              <p>Margad T.</p>\r\n              <small>High functionality backend support</small>\r\n              <div className=\"flex\">\r\n                <LinkedInIcon className=\"linkedInIcon\"></LinkedInIcon>\r\n                <FacebookIcon className=\"faceBookIcon\"></FacebookIcon>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"home-page-footer-team-member-card flex column align-center justify-center\">\r\n              <div className=\"home-page-footer-team-member-card-member-img paolo\"></div>\r\n              <p>Paolo Groppi</p>\r\n              <small>High functionality and backend</small>\r\n              <div className=\"flex\">\r\n                <a href=\"https://www.linkedin.com/in/paolo-groppi-6ba84117b\" target=\"blank\"><LinkedInIcon className=\"linkedInIcon\"></LinkedInIcon></a>\r\n                <a href=\"https://www.facebook.com/karma.tova\" target=\"blank\"><FacebookIcon className=\"faceBookIcon\"></FacebookIcon></a>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </section>\r\n        \r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    boards: state.boards.boards,\r\n    board: state.boards.board,\r\n    loggedInUser: state.user.loggedInUser\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  loadBoards,\r\n  loadBoard,\r\n  createBoard,\r\n  logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nexport default function pageLoading() {\r\n  return (\r\n    <div className=\"loading-page flex column align-center justify-center\">\r\n      <h2> JUST A MOMENT :)</h2>\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n}","import React, { Component } from 'react'\r\nimport utils from '../services/utils'\r\nexport default class TopMenuOptions extends Component {\r\n\r\n    state = {\r\n\r\n    }\r\n\r\n    onCopy = (column, board) => {\r\n        let newColumn = { ...column }\r\n        let newBoard = { ...board }\r\n        const newId = utils.getRandomId();\r\n        newColumn.id = newId;\r\n        board.columnOrder.push(newId);\r\n\r\n        debugger\r\n        newColumn.taskIds.forEach(currId => {\r\n            // const saveId = currId\r\n            const newId = utils.getRandomId();\r\n            newBoard.tasks[newId] = newId;\r\n            // newBoard.tasks[newId] = newId\r\n            const newTask = {\r\n                ...board.tasks[currId],\r\n                id: newId\r\n            }\r\n            newBoard.tasks[newId] = newTask\r\n\r\n            // newColumn.taskIds.push(newId);\r\n            const idx = column.taskIds.findIndex(currIdx => currIdx === currId)\r\n            newColumn.taskIds = newColumn.taskIds.splice(idx, 1, newId)\r\n            // newColumn.taskIds.push(newId)\r\n        })\r\n\r\n        board.columns[newId] = newColumn;\r\n        this.props.toggleTopMenuOptions(column.id);\r\n        // this.props.updateBoard(newBoard);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { column } = this.props\r\n        const { board } = this.props\r\n\r\n        return <div className=\"top-menu-options\">\r\n            <h2 className=\"text-center\">options menu</h2>\r\n            <div className=\"options-container flex column\">\r\n                <p >rename list</p>\r\n                <p onClick={() => this.onCopy(column, board)}>copy</p>\r\n                <p onClick={() => this.props.onDelete(column.id)}>delete</p>\r\n            </div>\r\n\r\n        </div>\r\n    }\r\n}","import TaskPreview from './TaskPreview';\r\nimport VideoPreview from './VideoPreview';\r\nimport ImagePreview from './ImagePreview';\r\n\r\nexport default {\r\n    text: TaskPreview,\r\n    video: VideoPreview,\r\n    image: ImagePreview\r\n}","import React, { Component } from \"react\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport utils from '../../services/utils'\r\n\r\nexport default class TaskPreview extends Component {\r\n\r\n    state = {\r\n        elTop: 0,\r\n        elLeft: 0,\r\n        elHeight: 0,\r\n    }\r\n\r\n    toggleMiniDetails = ev => {\r\n        ev.stopPropagation();\r\n        const miniTask = {\r\n            task: this.props.task,\r\n            left: this.refs.ref.getBoundingClientRect().left,\r\n            top: this.refs.ref.getBoundingClientRect().top,\r\n            height: this.refs.ref.getBoundingClientRect().height,\r\n            previewType: 'text',\r\n            column: this.props.column\r\n        };\r\n        this.props.toggleMiniDetails(miniTask);\r\n    }\r\n\r\n    render() {\r\n        const { task, provided, innerRef, isDragging, style, showEditBtn, onTaskId } = this.props;\r\n        return (\r\n            <section ref=\"ref\">\r\n                <div\r\n                    className={\"task-container\" + (isDragging ? \" isDragging\" : \"\")}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    ref={innerRef}\r\n                    style={style}\r\n                >\r\n                    <div className=\"task-container-labels flex\">\r\n                        {task.labels.map(label => {\r\n                            return <div key={label} className={label + ' small-label'}>\r\n                            </div>\r\n                        })\r\n                        }\r\n                    </div>\r\n\r\n                    <p className=\"task-container-title\">{task.title}</p>\r\n                    <div className={\"flex align-center space-between\" + (task.description == '' ? ' row-reverse' : '')}>\r\n                        {(showEditBtn && (onTaskId === task.id)) ?\r\n                            <CreateIcon className=\"task-container-open-menu\"\r\n                                onClick={e => this.toggleMiniDetails(e)} />\r\n                            : ''}\r\n                        {(task.description !== '') ?\r\n                            <ListAltIcon /> : ''\r\n                        }\r\n\r\n                        <div className=\"flex\">\r\n                            {(task.taskTeamMembers.map(member => {\r\n                                return <div key={member._id} className=\"team-member-icon-wrapper flex align-center justify-center\" style={{ backgroundColor: `${member.color}` }} >\r\n                                    <div className=\"team-member-icon\">\r\n                                        <p className=\"flex align-center\">\r\n                                            {utils.createUserIcon(member.firstName,\r\n                                                member.lastName)}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            }))\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport utils from '../../services/utils'\r\n\r\n\r\nexport default class VideoPreview extends Component {\r\n    state = {\r\n        elTop: 0,\r\n        elLeft: 0,\r\n        elHeight: 0,\r\n    }\r\n\r\n    toggleMiniDetails = ev => {\r\n        ev.stopPropagation();\r\n        const miniTask = {\r\n            task: this.props.task,\r\n            left: this.refs.ref.getBoundingClientRect().left,\r\n            top: this.refs.ref.getBoundingClientRect().top,\r\n            height: this.refs.ref.getBoundingClientRect().height,\r\n            previewType: 'video',\r\n            column: this.props.column\r\n        };\r\n        this.props.toggleMiniDetails(miniTask);\r\n    }\r\n\r\n\r\n    render() {\r\n        const { task, provided, innerRef, isDragging, style, showEditBtn, onTaskId } = this.props;\r\n        return (\r\n            <section ref=\"ref\">\r\n                <div\r\n                    className={\"task-container flex column\" + (isDragging ? \" isDragging\" : \"\")}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    ref={innerRef}\r\n                    style={style}\r\n                >\r\n                    <iframe title={task.id} type='text/html' width=\"248\" height=\"140\" allowFullScreen=\"allowfullscreen\" src={task.url} security=\"restricted\"></iframe>\r\n                    <div className=\"task-container-labels flex\">\r\n                        {task.labels.map(label => {\r\n                            return <div key={label} className={label + ' small-label'}>\r\n                            </div>\r\n                        })\r\n                        }\r\n                    </div>\r\n                    <p className=\"task-container-title\">{task.title}</p>\r\n                    <div className={\"flex align-center space-between\" + (task.description == '' ? ' row-reverse' : '')}>\r\n                        {(showEditBtn && (onTaskId === task.id)) ?\r\n                            <CreateIcon className=\"task-container-open-menu\"\r\n                                onClick={e => this.toggleMiniDetails(e)} />\r\n                            : ''}\r\n                        {(task.description !== '') ?\r\n                            <ListAltIcon /> : ''\r\n                        }\r\n\r\n                        <div className=\"flex\">\r\n                            {(task.taskTeamMembers.map(member => {\r\n                                return <div key={member._id} className=\"team-member-icon-wrapper flex align-center justify-center\" style={{ backgroundColor: `${member.color}` }} >\r\n                                    <div className=\"team-member-icon\">\r\n                                        <p className=\"flex align-center\">\r\n                                            {utils.createUserIcon(member.firstName,\r\n                                                member.lastName)}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            }))\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport utils from '../../services/utils'\r\n\r\n\r\nexport default class ImagePreview extends Component {\r\n    state = {\r\n        imgWidth: 220,\r\n        imgHeight: 220,\r\n        isMiniDetailsOn: false,\r\n        elTop: 0,\r\n        elLeft: 0,\r\n        elHeight: 0,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setNewState();\r\n    }\r\n\r\n    setNewState = _ => {\r\n        const maxWidth = 220; // Max width for the image\r\n        const maxHeight = 220; // Max height for the image\r\n        // const ref = this.props.task.id;\r\n        const img = new Image();\r\n        img.onload = _ => {\r\n            // Check if the current width is larger than the max\r\n            if (img.width > img.height) {\r\n                const heightRatio = maxHeight / img.height;   // get ratio for scaling image\r\n                const newWidth = img.width > maxWidth ? maxWidth : img.width;\r\n                this.setState({\r\n                    imgWidth: newWidth,\r\n                    imgHeight: img.height * heightRatio,\r\n                    // elTop: this.refs.ref.getBoundingClientRect().top + 1,\r\n                    // elLeft: this.refs.ref.getBoundingClientRect().left,\r\n                    // elHeight: this.refs.ref.getBoundingClientRect().height - 1\r\n                });\r\n            } else {  // Check if current height is larger than max\r\n                const widthRatio = maxWidth / img.width;\r\n                const newHeight = img.height > maxHeight ? maxHeight : img.height;\r\n                this.setState({\r\n                    imgWidth: img.width * widthRatio,\r\n                    imgHeight: newHeight,\r\n                    // elTop: this.refs.ref.getBoundingClientRect().top + 1,\r\n                    // elLeft: this.refs.ref.getBoundingClientRect().left,\r\n                    // elHeight: this.refs.ref.getBoundingClientRect().height - 1\r\n                });\r\n            }\r\n        }\r\n        img.src = this.props.task.url;\r\n    }\r\n\r\n    toggleMiniDetails = ev => {\r\n        ev.stopPropagation();\r\n        const miniTask = {\r\n            task: this.props.task,\r\n            left: this.refs.ref.getBoundingClientRect().left,\r\n            top: this.refs.ref.getBoundingClientRect().top,\r\n            height: this.refs.ref.getBoundingClientRect().height,\r\n            imgHeight: this.state.imgHeight,\r\n            imgWidth: this.state.imgWidth,\r\n            previewType: 'image',\r\n            column: this.props.column\r\n        };\r\n        this.props.toggleMiniDetails(miniTask);\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        // const createdAtFormat = new Date(task.createdAt).toString();\r\n        // const dueDateFormat = new Date(task.dueDate).toString();\r\n        const { task, provided, innerRef, isDragging, style, showEditBtn, onTaskId } = this.props;\r\n        return (\r\n            <section ref=\"ref\">\r\n                <div\r\n                    className={\"task-container flex column align center\" + (isDragging ? \" isDragging\" : \"\")}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    ref={innerRef}\r\n                    style={style}\r\n                >\r\n                    <img title={task.id} alt=\"task\" width={this.state.imgWidth} height={this.state.imgHeight} src={task.url} />\r\n                    <div className=\"task-container-labels flex\">\r\n                        {task.labels.map(label => {\r\n                            return <div key={label} className={label + ' small-label'}>\r\n                            </div>\r\n                        })\r\n                        }\r\n                    </div>\r\n                    <p className=\"task-container-title\">{task.title}</p>\r\n                    <div className={\"flex align-center space-between\" + (task.description == '' ? ' row-reverse' : '')}>\r\n                        {(showEditBtn && (onTaskId === task.id)) ?\r\n                            <CreateIcon className=\"task-container-open-menu\"\r\n                                onClick={e => this.toggleMiniDetails(e)} />\r\n                            : ''}\r\n                        {(task.description !== '') ?\r\n                            <ListAltIcon /> : ''\r\n                        }\r\n\r\n                        <div className=\"flex\">\r\n                            {(task.taskTeamMembers.map(member => {\r\n                                return <div key={member._id} className=\"team-member-icon-wrapper flex align-center justify-center\" style={{ backgroundColor: `${member.color}` }} >\r\n                                    <div className=\"team-member-icon\">\r\n                                        <p className=\"flex align-center\">\r\n                                            {utils.createUserIcon(member.firstName,\r\n                                                member.lastName)}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            }))\r\n                            }\r\n                        </div>\r\n                    </div>  \r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport mapDynamicComponents from \"./mapDynamicComponents\"\r\n\r\nexport default class DynamicComponent extends Component {\r\n    state = {\r\n        componentType: 'text',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ componentType: this.props.task.type });\r\n    }\r\n\r\n    getComponent() {\r\n        return mapDynamicComponents[this.state.componentType];\r\n    }\r\n\r\n    render() {\r\n        const Cmp = this.getComponent();\r\n        return <React.Fragment>\r\n            <Cmp\r\n                column={this.props.column}\r\n                provided={this.props.provided}\r\n                innerRef={this.props.innerRef}\r\n                task={this.props.task}\r\n                isDragging={this.props.isDragging}\r\n                style={this.props.style}\r\n                onTaskId={this.props.onTaskId}\r\n                showEditBtn={this.props.showEditBtn}\r\n                toggleMiniDetails = {this.props.toggleMiniDetails}\r\n                user={this.props.user}\r\n            >\r\n            </Cmp>\r\n        </React.Fragment>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport NaturalDragAnimation from 'natural-drag-animation-rbdnd';\r\n\r\nimport DynamicComponent from './dynamics/DynamicComponent';\r\n\r\nexport default class TasksList extends Component {\r\n\r\n    state = {\r\n        showAddForm: false,\r\n        currTaskId: '',\r\n        onTaskId: '',\r\n        showTaskDetails: false\r\n    }\r\n\r\n    toggleTaskDetails = id => {\r\n        if (id) {\r\n            this.setState(prevState => ({ showTaskDetails: !prevState.showTaskDetails, currTaskId: id }));\r\n        } else {\r\n            this.setState(prevState => ({ showTaskDetails: !prevState.showTaskDetails }));\r\n        }\r\n\r\n    }\r\n\r\n    canOpenTaskDetails = taskId => {\r\n        return (this.state.showTaskDetails && this.state.currTaskId === taskId)\r\n    }\r\n\r\n    showEditBtn = (id) => {\r\n        this.setState({ showEditBtn: true, onTaskId: id })\r\n    }\r\n\r\n    hideEditBtn = () => {\r\n        this.setState({ showEditBtn: false })\r\n    }\r\n\r\n    render() {\r\n        const { tasks, provided, innerRef, isDraggingOver } = this.props;\r\n        return (\r\n            <section\r\n                className={\"task-list\" + (isDraggingOver ? \" isDraggingOver\" : \"\")}\r\n                {...provided.droppableProps}\r\n                ref={innerRef}\r\n            >\r\n                        {tasks.map((task, idx) => (\r\n                            <div key={task.id}>\r\n                                <Draggable draggableId={task.id} index={idx}>\r\n                                    {(provided, snapshot) => (\r\n                                        <NaturalDragAnimation\r\n                                            style={provided.draggableProps.style}\r\n                                            snapshot={snapshot}\r\n                                            rotationMultiplier={1.3}\r\n                                        >\r\n                                            {style => (\r\n                                                <div onClick={_ => this.props.toggleTaskDetails({ id: task.id, column: this.props.column })}\r\n                                                    onMouseEnter={() => this.showEditBtn(task.id)}\r\n                                                    onMouseLeave={() => this.hideEditBtn()}\r\n                                                >\r\n                                                    <DynamicComponent\r\n                                                        provided={provided}\r\n                                                        innerRef={provided.innerRef}\r\n                                                        task={task}\r\n                                                        column={this.props.column}\r\n                                                        isDragging={snapshot.isDragging}\r\n                                                        style={style}\r\n                                                        onTaskId={this.state.onTaskId}\r\n                                                        showEditBtn={this.state.showEditBtn}\r\n                                                        toggleMiniDetails = {this.props.toggleMiniDetails}\r\n                                                        user={this.props.user}\r\n                                                    >\r\n                                                    </DynamicComponent>\r\n                                                </div>\r\n                                            )}\r\n                                        </NaturalDragAnimation>\r\n                                    )}\r\n                                </Draggable>\r\n                            </div>\r\n                        ))}\r\n                        {provided.placeholder}\r\n            </section>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport utils from '../services/utils';\r\n\r\nexport default class ColumnAddForm extends Component {\r\n\r\n    state = {\r\n        column: {\r\n            id: utils.getRandomId(),\r\n            title: '',\r\n            taskIds: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.nameInput.focus();\r\n        this.setFormDataForEdit();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.column !== this.props.column) {\r\n            this.setFormDataForEdit();\r\n        }\r\n    }\r\n\r\n    setFormDataForEdit() {\r\n        if (this.props.column) {\r\n            const column = this.props.column;\r\n            this.setState({\r\n                column: {\r\n                    id: column.id,\r\n                    title: column.title,\r\n                    taskIds: column.taskIds\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    inputChange = (ev) => {\r\n        let fieldName = ev.target.name;\r\n        let value = ev.target.value;\r\n        this.setState({ column: { ...this.state.column, [fieldName]: value } })\r\n    }\r\n\r\n    saveColumn = (ev) => {\r\n        ev.preventDefault();\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            columns: {\r\n                ...this.props.board.columns,\r\n                [this.state.column.id]: this.state.column\r\n            }\r\n        };\r\n        const id = this.state.column.id;\r\n        const columnOrder = newBoard.columnOrder;\r\n        if (!columnOrder.includes(id)) columnOrder.push(id);\r\n        this.props.updateBoard(newBoard);\r\n        this.props.toggleAddForm();\r\n        let msg = `'${this.state.column.title}' was added by ` + this.props.user;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() })\r\n        utils.emitNotification(msg, 'success');\r\n    }\r\n\r\n    render() {\r\n        return <form className=\"add-column-form-container flex column space-between\" onSubmit={this.saveColumn}>\r\n            <input\r\n                ref={(input) => { this.nameInput = input; }}\r\n                type='text'\r\n                placeholder='Column Name'\r\n                name='title'\r\n                onChange={this.inputChange}\r\n                value={this.state.column.title} />\r\n            <div className=\"add-column flex\">\r\n                <button className=\"add-column-save-btn\"\r\n                    variant=\"contained\">SAVE</button>\r\n\r\n                <CloseIcon className=\"add-column-back-to-board flex align-center\"\r\n                    onClick={this.props.toggleAddForm} />\r\n\r\n            </div>\r\n        </form>\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport utils from '../services/utils'\r\n\r\nexport default class TaskForm extends Component {\r\n\r\n    state = {\r\n        task: {\r\n            id: utils.getRandomId(),\r\n            title: '',\r\n            createdAt: Date.now(),\r\n            dueDate: '',\r\n            importance: '',\r\n            description: '',\r\n            type: 'text',\r\n            labels: [],\r\n            creator: {},\r\n            taskTeamMembers: []\r\n        },\r\n        edit: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.nameInput.focus();\r\n        this.setFormDataForEdit();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.task !== this.props.task) {\r\n            this.setFormDataForEdit();\r\n        }\r\n    }\r\n\r\n    setFormDataForEdit() {\r\n        if (this.props.task) {\r\n            const task = this.props.task;\r\n            this.setState({\r\n                task: {\r\n                    id: task.id,\r\n                    title: task.title,\r\n                    createdAt: task.createdAt,\r\n                    dueDate: task.dueDate,\r\n                    importance: task.importance,\r\n                    description: this.props.description,\r\n                    type: task.type,\r\n                    labels: task.labels,\r\n                    creator: task.creator,\r\n                    taskTeamMembers: task.taskTeamMembers\r\n                },\r\n                edit: true\r\n            })\r\n        }\r\n    }\r\n\r\n    inputChange = (ev) => {\r\n        const fieldName = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ task: { ...this.state.task, [fieldName]: value } })\r\n    }\r\n\r\n    save = (ev) => {\r\n        ev.preventDefault();\r\n        this.checkIfUrlAndSave(this.state.task.title);\r\n    }\r\n\r\n    saveTask = _ => {\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            tasks: {\r\n                ...this.props.board.tasks,\r\n                [this.state.task.id]: this.state.task\r\n            }\r\n        };\r\n        const column = this.props.column;\r\n        const id = this.state.task.id;\r\n        if (!column.taskIds.includes(id)) column.taskIds.push(id);\r\n        this.props.updateBoard(newBoard);\r\n        this.props.closeUpdateForm();\r\n        if (this.props.toggleUpdateForm) this.props.toggleUpdateForm();\r\n        if (this.props.toggleTaskDetails) this.props.toggleTaskDetails();\r\n        let msg = (!this.state.edit) ?\r\n            `The task '${this.state.task.title}' was added by ${this.props.user}` :\r\n            `${this.props.user} edited the task '${this.state.task.title}'`;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n        utils.emitNotification(msg, 'success');\r\n    }\r\n\r\n    textAreaAdjust = ev => {\r\n        ev.target.style.height = \"1px\"\r\n        ev.target.style.height = (25 + ev.target.scrollHeight) + \"px\";\r\n    }\r\n\r\n    checkIfUrlAndSave = (url) => {\r\n        const youtubeREGEX = /^(?:https?:\\/\\/)?(?:m\\.|www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n        const imgREGEX = /.(jpg|jpeg|png|gif)\\/?$/;\r\n        if (url.match(youtubeREGEX)) {\r\n            const newUrl = url.replace('watch?v=', 'embed/');\r\n            return this.setState(prevState => ({ task: { ...prevState.task, title: '', type: 'video', url: newUrl } }), _ => {\r\n                this.saveTask();\r\n            });\r\n        } else if (url.match(imgREGEX)) {\r\n            return this.setState(prevState => ({ task: { ...prevState.task, title: '', type: 'image', url } }), _ => {\r\n                this.saveTask();\r\n            });\r\n        }\r\n        this.saveTask();\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"task-form\" >\r\n            <form onSubmit={this.save}>\r\n                <div className=\"flex column\" >\r\n\r\n                    <textarea type=\"text\"\r\n                        onKeyUp={this.textAreaAdjust}\r\n                        placeholder=\"Add a task title...\"\r\n                        name=\"title\"\r\n                        ref={(input) => { this.nameInput = input; }}\r\n                        onChange={this.inputChange} value={this.state.task.title} />\r\n                    <div className=\"flex align-center\">\r\n                        <button className=\"task-form-save-btn\">SAVE</button>\r\n                        <CloseIcon className=\"task-form-back-btn\" onClick={() => this.props.closeUpdateForm()} />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport NaturalDragAnimation from 'natural-drag-animation-rbdnd';\r\n\r\nimport TopMenuOptions from './TopMenuOptions'\r\nimport TasksList from './TasksList';\r\nimport ColumnAddForm from '../cmps/ColumnAddForm';\r\nimport TaskForm from '../cmps/TaskForm'\r\n\r\n\r\n\r\nimport utils from '../services/utils';\r\n\r\nexport default class BoardColumns extends Component {\r\n\r\n    state = {\r\n        showAddColumnForm: false,\r\n        showTopMenuOptions: false,\r\n        showAddForm: false,\r\n        showEditBtn: true,\r\n        currColumnId: '',\r\n        anchorEl: null,\r\n        timer: null,\r\n        title: ''\r\n    }\r\n\r\n    toggleAddForm = (id) => {\r\n        this.setState((prevState) => ({ showForm: !prevState.showForm, currColumnId: id }));\r\n    }\r\n\r\n    toggleTopMenuOptions = (id) => {\r\n        this.setState(prevState => ({ showTopMenuOptions: !prevState.showTopMenuOptions, currColumnId: id }));\r\n    }\r\n\r\n    onDelete = (id) => {\r\n        const board = { ...this.props.board };\r\n        const columnOrder = board.columnOrder;\r\n        const column = board.columns[id];\r\n        for (const taskId of column.taskIds) {\r\n            for (const taskKey in board.tasks) {\r\n                if (taskId === taskKey) {\r\n                    delete board.tasks[taskKey];\r\n                }\r\n            }\r\n        }\r\n        delete board.columns[id];\r\n        const idx = columnOrder.findIndex(column => column === id);\r\n        columnOrder.splice(idx, 1);\r\n        this.props.updateBoard(board);\r\n        let msg = `'${column.title}' was deleted by ${this.props.user}`;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() })\r\n        utils.emitNotification(msg, 'danger');\r\n    }\r\n\r\n    onDragEnd = result => {\r\n        const { destination, source, draggableId, type } = result;\r\n\r\n        if (!destination) {\r\n            return;\r\n        };\r\n\r\n        if (destination.droppableId === source.droppableId &&\r\n            destination.index === source.index) {\r\n            return;\r\n        };\r\n\r\n        if (type === 'column') {\r\n            const newColumnOrder = this.props.board.columnOrder.slice();\r\n            newColumnOrder.splice(source.index, 1);\r\n            newColumnOrder.splice(destination.index, 0, draggableId);\r\n            const columnTitle = this.props.board.columns[draggableId].title;\r\n            const newBoard = {\r\n                ...this.props.board,\r\n                columnOrder: newColumnOrder\r\n            }\r\n            let msg = `'${columnTitle}' was moved by ${this.props.user}`;\r\n            this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n            utils.emitNotification(msg, 'success');\r\n            return this.props.updateBoard(newBoard);\r\n        };\r\n\r\n        const start = this.props.board.columns[source.droppableId];\r\n        const finish = this.props.board.columns[destination.droppableId];\r\n\r\n        if (start === finish) {\r\n            const newTaskIds = start.taskIds.slice();\r\n            newTaskIds.splice(source.index, 1);\r\n            newTaskIds.splice(destination.index, 0, draggableId);\r\n            const newColumn = {\r\n                ...start,\r\n                taskIds: newTaskIds\r\n            };\r\n            const newBoard = {\r\n                ...this.props.board,\r\n                columns: {\r\n                    ...this.props.board.columns,\r\n                    [newColumn.id]: newColumn\r\n                }\r\n            };\r\n            const taskTitle = this.props.board.tasks[draggableId].title;\r\n            let msg = `${this.props.user} changed the position of the task '${taskTitle}'`;\r\n            this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n            utils.emitNotification(msg, 'success');\r\n\r\n            return this.props.updateBoard(newBoard);\r\n        };\r\n\r\n        const startTaskIds = start.taskIds.slice();\r\n        startTaskIds.splice(source.index, 1);\r\n        const newStart = {\r\n            ...start,\r\n            taskIds: startTaskIds\r\n        };\r\n\r\n        const finishTaskIds = finish.taskIds.slice();\r\n        finishTaskIds.splice(destination.index, 0, draggableId);\r\n        const newFinish = {\r\n            ...finish,\r\n            taskIds: finishTaskIds\r\n        };\r\n        console.log('newStart', newStart.title);\r\n        console.log('newFinish', newFinish.title);\r\n\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            columns: {\r\n                ...this.props.board.columns,\r\n                [newStart.id]: newStart,\r\n                [newFinish.id]: newFinish\r\n            }\r\n        };\r\n        const taskTitle = this.props.board.tasks[draggableId].title;\r\n        let msg = `${this.props.user} moved the task '${taskTitle}' from '${newStart.title}' to '${newFinish.title}'`;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n        utils.emitNotification(msg, 'success');\r\n        this.props.updateBoard(newBoard);\r\n    }\r\n\r\n    handleCheck = (colId, title) => {\r\n        clearTimeout(this.state.timer);\r\n        this.setState({\r\n            timer: setTimeout(() => {\r\n                const updatedBoard = { ...this.props.board };\r\n                updatedBoard.columns[colId].title = title;\r\n                this.props.updateBoard(updatedBoard);\r\n            }, 1000)\r\n        });\r\n    }\r\n\r\n    emitChange = (ev, colId) => {\r\n        this.setState({ title: ev.target.innerText }, _ => {\r\n            this.handleCheck(colId, this.state.title);\r\n        });\r\n    }\r\n\r\n\r\n    // toggleUpdateForm = (id) => {\r\n    //     this.setState((prevState) => ({\r\n    //         showAddForm: !prevState.showAddForm, currColumnId: id,\r\n    //     }))\r\n    // }\r\n\r\n    openUpdateForm = (id) => {\r\n        this.setState({ showAddForm: true, currColumnId: id })\r\n    }\r\n\r\n    closeUpdateForm = (id) => {\r\n        this.setState({ showAddForm: false, currColumnId: id })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <DragDropContext onDragEnd={this.onDragEnd}>\r\n                <Droppable droppableId=\"all-columns\" direction=\"horizontal\" type=\"column\">\r\n                    {provided => (\r\n                        <div\r\n                            className=\"board-columns flex\"\r\n                            {...provided.droppableProps}\r\n                            ref={provided.innerRef}\r\n                        >\r\n                            {this.props.board.columnOrder.map((columnKey, idx) => {\r\n\r\n                                const column = this.props.board.columns[columnKey];\r\n                                const tasks = column.taskIds.map(currId => this.props.board.tasks[currId]);\r\n\r\n                                return <Draggable draggableId={columnKey} key={column.id} index={idx}>\r\n\r\n                                    {(provided, snapshot) => (\r\n                                        <NaturalDragAnimation\r\n                                            style={provided.draggableProps.style}\r\n                                            snapshot={snapshot}\r\n                                            rotationMultiplier={1.3}\r\n                                        >\r\n                                            {style => (\r\n\r\n                                                <div\r\n                                                    className=\"board-columns-item\"\r\n                                                    {...provided.draggableProps}\r\n                                                    ref={provided.innerRef}\r\n                                                    style={style}\r\n                                                >\r\n                                                    <div\r\n                                                        className=\"board-columns-item-header flex align-center space-between\"\r\n                                                        {...provided.dragHandleProps}\r\n                                                    >\r\n                                                        <div className=\"board-columns-item-header-h2-wrapper\">\r\n                                                            <h2\r\n                                                                contentEditable='true'\r\n                                                                spellCheck=\"false\"\r\n                                                                onInput={(ev) => this.emitChange(ev, column.id)}\r\n                                                                suppressContentEditableWarning={true}\r\n                                                            >\r\n                                                                {column.title}\r\n                                                            </h2>\r\n                                                        </div>\r\n\r\n                                                        <div className=\"board-columns-item-header-menu-btn\" onClick={() => this.toggleTopMenuOptions(column.id)}>\r\n                                                            <h2 className=\"board-columns-item-header-menu-btn-icon\"> ... </h2>\r\n                                                        </div>\r\n\r\n                                                    </div>\r\n\r\n                                                    {(this.state.showTopMenuOptions) && (this.state.currColumnId === column.id) ?\r\n                                                        <TopMenuOptions\r\n                                                            onDelete={this.onDelete}\r\n                                                            column={column}\r\n                                                            board={this.props.board}\r\n                                                            updateBoard={this.props.updateBoard}\r\n                                                            toggleTopMenuOptions={this.toggleTopMenuOptions}\r\n                                                        />\r\n                                                        : ''}\r\n\r\n                                                    {(this.state.showAddColumnForm && this.state.currColumnId === column.id)\r\n                                                        && <ColumnAddForm\r\n                                                            board={this.props.board}\r\n                                                            toggleAddForm={this.toggleAddForm}\r\n                                                            column={column}\r\n                                                            updateBoard={this.props.updateBoard}\r\n                                                        />}\r\n                                                    <Droppable droppableId={column.id} type=\"task\">\r\n                                                        {(provided, snapshot) => {\r\n                                                            return <TasksList\r\n                                                                board={this.props.board}\r\n                                                                innerRef={provided.innerRef}\r\n                                                                provided={provided}\r\n                                                                tasks={tasks}\r\n                                                                isDraggingOver={snapshot.isDraggingOver}\r\n                                                                column={column}\r\n                                                                toggleTaskDetails={this.props.toggleTaskDetails}\r\n                                                                updateBoard={this.props.updateBoard}\r\n                                                                toggleMiniDetails={this.props.toggleMiniDetails}\r\n                                                                user={this.props.user}\r\n                                                            >\r\n                                                            </TasksList>\r\n                                                        }}\r\n                                                    </Droppable>\r\n\r\n                                                    <div className=\"task-list-footer\">\r\n                                                        {!this.state.showAddForm && this.state.currColumnId === column.id ?\r\n                                                            <p className=\"task-list-footer-add-task\"\r\n                                                                onClick={() => this.openUpdateForm(column.id)}>\r\n                                                                + Add a task</p>\r\n                                                            :\r\n                                                            this.state.currColumnId !== column.id ?\r\n                                                                <p className=\"task-list-footer-add-task\"\r\n                                                                    onClick={() => this.openUpdateForm(column.id)}>\r\n                                                                    + Add a task</p>\r\n                                                                : ''\r\n                                                        }\r\n\r\n\r\n                                                        {(this.state.showAddForm && this.state.currColumnId === column.id) ?\r\n                                                            <TaskForm\r\n                                                                user={this.props.user}\r\n                                                                board={this.props.board}\r\n                                                                column={column}\r\n                                                                closeUpdateForm={this.closeUpdateForm}\r\n                                                                updateBoard={this.props.updateBoard}\r\n                                                            />\r\n                                                            : ''\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                            )}\r\n                                        </NaturalDragAnimation>\r\n                                    )}\r\n                                </Draggable>\r\n                            })}\r\n                            {provided.placeholder}\r\n                        </div >)}\r\n                </Droppable>\r\n            </DragDropContext>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\n\r\nexport default class BoardHistory extends Component {\r\n    render() {\r\n        return (\r\n            <div className={\"boardhistory-container column\"\r\n                + (this.props.showHistory ? ' translateLeft' : '')}>\r\n                <div className=\"members-container-colors-container flex column\">\r\n                    <div className=\"uppercase text-center\">\r\n                        <h2>board history :</h2>\r\n                    </div>\r\n                    <hr />\r\n                </div>\r\n                <ul className=\"clean-list\">\r\n                    {this.props.history.map(item => (\r\n                        <li key={item.id}><div className=\"msg\">{item.msg}<br />{moment(item.time).calendar()}</div><hr /></li>\r\n\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport utils from '../services/utils'\r\n\r\nexport default class BoardTeamMembers extends Component {\r\n    state = {\r\n        currentBoardMembers: [],\r\n        toggleUsersList: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setState({ currentBoardMembers: this.props.board.teamMembers });\r\n    }\r\n\r\n    updateTeamMembers = (user) => {\r\n        const board = this.props.board;\r\n        const teamMembers = board.teamMembers;\r\n        if (teamMembers.length === 0) {\r\n            teamMembers.push(user);\r\n            let msg = `${user.username} was added to this board`;\r\n            this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n            utils.emitNotification(msg, 'success');\r\n        } else if (teamMembers.find(teamMember => teamMember._id === user._id)) {\r\n            const idx = teamMembers.findIndex(teamMember => teamMember._id === user._id);\r\n            teamMembers.splice(idx, 1);\r\n            let msg = `${user.username} was removed from this board`;\r\n            this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n            utils.emitNotification(msg, 'danger');\r\n        } else {\r\n            teamMembers.push(user);\r\n            let msg = `${user.username} was added to this board`;\r\n            this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n            utils.emitNotification(msg, 'success');\r\n        }\r\n        this.setState({ currentBoardMembers: teamMembers });\r\n        this.props.updateBoard(board);\r\n    }\r\n\r\n    toggleUsersList = () => {\r\n        this.setState(prevState => ({ toggleUsersList: !prevState.toggleUsersList }));\r\n    }\r\n\r\n    onStopPropagation = (ev) => {\r\n        ev.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={\"board-team-members-container text-center column\"\r\n                    + (this.props.toggleBoardTeamMembers ? ' translateLeft' : '')} onClick={(ev) => this.onStopPropagation(ev)}>\r\n\r\n                    <div className=\"members-container-colors-container flex column\">\r\n                        <div className=\"pointer uppercase\"><h2>board members :</h2></div>\r\n                        <hr />\r\n                        {this.state.currentBoardMembers.map(teamMember => {\r\n                            return (\r\n                                <div key={teamMember._id} className=\"team-member flex align-center\">\r\n                                    <div className=\"team-member-icon-wrapper flex align-center justify-center\" style={{ backgroundColor: `${teamMember.color}` }} >\r\n                                        <div className=\"team-member-icon\">\r\n                                            <p className=\"capitalize\">\r\n                                                {utils.createUserIcon(teamMember.firstName, teamMember.lastName)}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className=\"capitalize\">{teamMember.firstName} {teamMember.lastName}</span>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n\r\n                    <div className=\"add-team-members flex column\">\r\n                        <p className=\"pointer uppercase\" onClick={this.toggleUsersList}>add / remove users</p>\r\n                        {this.state.toggleUsersList && this.props.users.map(user => {\r\n                            return (\r\n                                <div key={user._id} className=\"team-member flex align-center\"\r\n                                    onClick={() => this.updateTeamMembers(user)}>\r\n                                    <div className=\"team-member-icon-wrapper flex align-center justify-center\"\r\n                                        style={{ backgroundColor: `${user.color}` }}>\r\n                                        <div className=\"team-member-icon\">\r\n                                            <p className=\"capitalize\">\r\n                                                {utils.createUserIcon(user.firstName, user.lastName)}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className=\"capitalize\">{user.firstName} {user.lastName}</span>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nexport default class Filter extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            title: '',\r\n            teamMembers: ''\r\n        }\r\n    }\r\n\r\n    inputChange = (ev) => {\r\n        let fieldName = ev.target.name;\r\n        let value = ev.target.value;\r\n        console.log(fieldName, value);\r\n        this.setState(prevState => ({\r\n            filterBy: {\r\n                ...prevState.filterBy,\r\n                [fieldName]: value\r\n            }\r\n        }));\r\n    }\r\n\r\n    onFilterClick = () => {\r\n        this.props.onFilter(this.state.filterBy);\r\n    }\r\n\r\n    render() {\r\n\r\n        const teamMembers = this.props.teamMembers;\r\n\r\n        return <div className=\"board-page-nav-bar-filters-item flex\">\r\n            <input type=\"text\" placeholder=\"search task by name\"\r\n                value={this.state.filterBy.title}\r\n                onChange={this.inputChange} name=\"title\">\r\n            </input>\r\n            <select name=\"teamMembers\" onChange={this.inputChange}>\r\n                <option value=''>All Team Members</option>\r\n                {teamMembers.map(teamMember => (\r\n                    <option key={teamMember._id} value={`${teamMember.username}`}>{teamMember.firstName} {teamMember.lastName}</option>\r\n                ))}\r\n            </select>\r\n            <button className=\"board-page-nav-bar-filters nav-btn\"\r\n                onClick={this.onFilterClick}>\r\n                <SearchIcon className=\"flex\" />\r\n            </button>\r\n        </div>\r\n    }\r\n}","import React, { Component } from 'react'\r\n\r\nexport default class Sort extends Component {\r\n\r\n    state = {\r\n        sortBy: '',\r\n        sortOrder: 'asc'\r\n    }\r\n\r\n    inputChange = (ev) => {\r\n        let fieldName = ev.target.name;\r\n        let value = ev.target.value;\r\n        this.setState(prevState => ({ filterBy: { ...prevState.filterBy, [fieldName]: value } }));\r\n    }\r\n\r\n    onSortBy = (ev) => {\r\n        let fieldName = ev.target.name;\r\n        let sortOrder = (this.state.sortOrder === 'asc') ? 'desc' : 'asc';\r\n        this.setState({ sortBy: fieldName, sortOrder: sortOrder }, () => this.props.onSort(this.state.sortBy, this.state.sortOrder));\r\n    }\r\n\r\n    toggleButtonName = () => {\r\n        return (this.state.sortOrder === 'asc') ? 'Newest Tasks' : 'Oldest Tasks';\r\n    }\r\n\r\n    render() {\r\n        return <div  className=\"board-page-nav-bar-filters-item fill-height\">\r\n            <button className=\"nav-btn fill-height\"\r\n                onClick={this.onSortBy}\r\n                name='createdAt'>{this.toggleButtonName()}</button>\r\n\r\n        </div>\r\n    }\r\n}","import React, { Component } from 'react'\r\n\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nimport utils from '../services/utils'\r\n\r\nexport default class Sort extends Component {\r\n\r\n    state = {\r\n        splashImagesUrls: [],\r\n        filterByName: ''\r\n    }\r\n\r\n    inputChange = ev => {\r\n        this.setState({ filterByName: ev.target.value + \" wallpaper\"});\r\n    }\r\n\r\n    onSave = async () => {\r\n        try {\r\n            const splashImages = await utils.getImagesFromUnsplash(this.state.filterByName)\r\n            let splashImagesUrls = []\r\n            splashImages.forEach(image => {\r\n                const UrlIndx = splashImagesUrls.findIndex(currUrl => currUrl === image.urls.full);\r\n                if (UrlIndx >= 0) {\r\n                    splashImagesUrls.splice(UrlIndx, 1)\r\n                } else {\r\n                    splashImagesUrls.push(image.urls.full);\r\n                }\r\n            })\r\n            this.setState({ splashImagesUrls })\r\n        } catch (err) {\r\n            // res.status(401).send({ error: err })\r\n        }\r\n    }\r\n\r\n    setBoardBackground = (ev) => {\r\n        const newBoard = { ...this.props.board }\r\n        newBoard.boardBgImage = ev.target.src;\r\n        this.props.updateBoard(newBoard);\r\n        let msg = `${this.props.user} changed background image`;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() })\r\n        utils.emitNotification(msg, 'danger');\r\n    }\r\n\r\n    stopPropagation = (ev) => {\r\n        ev.stopPropagation()\r\n    }\r\n\r\n    render() {\r\n        return <div className={\"splash-menu flex column align-center\" + (this.props.toggleSplashMenu ? ' translateLeft' : '')} \r\n        onClick={(ev) => this.stopPropagation(ev)}>\r\n\r\n            <div className=\"flex column fill-width\">\r\n                <div className=\"splash-menu-search-bar fill-width flex justify-center\">\r\n                    <input\r\n                        type='text'\r\n                        placeholder='Search by name...'\r\n                        onChange={this.inputChange}\r\n                    />\r\n                    <button className=\"splash-menu-search-bar-save-btn\" onClick={this.onSave}>\r\n                        <SearchIcon />\r\n                    </button>\r\n                </div>\r\n                <button className=\"splash-menu-search-bar-save-btn upload-btn\">\r\n                    <input style={{ display: \"none\" }} type=\"file\" id=\"upload-img\" onChange={this.props.onAddImg}></input>\r\n                    <label htmlFor=\"upload-img\">upload image</label>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"splash-images-container-wrapper\">\r\n                <div className=\"splash-images-container flex wrap fill-width\" >\r\n                    {this.state.splashImagesUrls.map(imageUrl => {\r\n                        return <div key={imageUrl} className=\"splash-images-container-item flex wrap\">\r\n                            <img src={imageUrl} alt=\"oops.. didn't found it\" onClick={(ev) => this.setBoardBackground(ev)}></img>\r\n                        </div>\r\n                    })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React from 'react';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class DueDate extends React.Component {\r\n    state = {\r\n        dueDate: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setDate();\r\n    }\r\n\r\n    setDate = _ => {\r\n        this.setState({ dueDate: this.props.task.dueDate ? new Date(this.props.task.dueDate) : new Date() })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.saveTask();\r\n    }\r\n\r\n    handleChange = date => {\r\n        this.setState({ dueDate: date });\r\n    }\r\n\r\n    saveTask = _ => {\r\n        const newTask = { ...this.props.task, dueDate: this.state.dueDate.getTime() };\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            tasks: {\r\n                ...this.props.board.tasks,\r\n                [newTask.id]: newTask\r\n            }\r\n        }\r\n        this.props.updateBoard(newBoard);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <DatePicker\r\n                selected={this.state.dueDate}\r\n                onChange={this.handleChange}\r\n                showTimeSelect\r\n                timeFormat=\"HH:mm\"\r\n                timeIntervals={15}\r\n                timeCaption=\"Time\"\r\n                dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n            />\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport default class Labels extends Component {\r\n    state = {\r\n        choosenLabels: []\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setNewState();\r\n    }\r\n\r\n    setNewState = () => {\r\n        this.setState({ choosenLabels: this.props.task.labels })\r\n    }\r\n\r\n    updateChoosenLabels = (ev) => {\r\n        const label = ev.target.classList[0];\r\n        const choosenLabels = this.state.choosenLabels;\r\n        const labelIdx = choosenLabels.findIndex(currLabel => currLabel === label);\r\n        if (labelIdx >= 0) {\r\n            choosenLabels.splice(labelIdx, 1)\r\n        } else {\r\n            choosenLabels.push(label);\r\n        }\r\n        this.setState({ choosenLabels }, this.onSave);\r\n    }\r\n\r\n    onSave = () => {\r\n        const newTask = { ...this.props.task, labels: this.state.choosenLabels };\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            tasks: {\r\n                ...this.props.board.tasks,\r\n                [newTask.id]: newTask\r\n            }\r\n        }\r\n        this.props.updateBoard(newBoard);\r\n    }\r\n\r\n    onStopPropagation = (ev) => {\r\n        ev.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        let updateStyle = null;\r\n        if (this.props.miniTask) {\r\n            updateStyle = {\r\n                left: 12 + 'px',\r\n                top: 36 + 'px',\r\n            }\r\n\r\n        }\r\n\r\n        return (\r\n            <div className=\"labels-container text-center\"\r\n                onClick={(ev) => this.onStopPropagation(ev)}\r\n                style={{ ...updateStyle }}\r\n            >\r\n                <CloseIcon className=\"labels-container-close-btn\" onClick={this.props.toggleChooseLabels} />\r\n                <p>CHOOSE LABELS</p>\r\n                <hr />\r\n                <div className=\"labels-container-colors-container flex column align-center \">\r\n                    <div className=\"label-color-1 large-label\" onClick={(ev) => this.updateChoosenLabels(ev)}></div>\r\n                    <div className=\"label-color-2 large-label\" onClick={(ev) => this.updateChoosenLabels(ev)}></div>\r\n                    <div className=\"label-color-3 large-label\" onClick={(ev) => this.updateChoosenLabels(ev)}></div>\r\n                    <div className=\"label-color-4 large-label\" onClick={(ev) => this.updateChoosenLabels(ev)}></div>\r\n                    <div className=\"label-color-5 large-label\" onClick={(ev) => this.updateChoosenLabels(ev)}></div>\r\n                    <div className=\"label-color-6 large-label\" onClick={(ev) => this.updateChoosenLabels(ev)}></div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport utils from '../services/utils';\r\n\r\nexport default class Members extends Component {\r\n    state = {\r\n        choosenMembers: [],\r\n        availableMembers: []\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setNewState();\r\n    }\r\n\r\n    setNewState = () => {\r\n        // const availableMembers = this.props.board.teamMembers.filter(currMember => !this.props.task.taskTeamMembers.find(taskMember => taskMember.userName === currMember.userName));\r\n        this.setState({ choosenMembers: this.props.task.taskTeamMembers }, this.setAvailableMembers);\r\n        // this.setState({ choosenMembers: this.props.task.taskTeamMembers });\r\n    }\r\n\r\n    setAvailableMembers = _ => {\r\n        const availableMembers = this.props.board.teamMembers.filter(currMember => !this.state.choosenMembers.find(taskMember => taskMember._id === currMember._id));\r\n        this.setState({availableMembers}, this.onSave);\r\n    }\r\n\r\n    updateChoosenMembers = (teamMember) => {\r\n        const choosenMembers = this.state.choosenMembers;\r\n        const memberIdx = choosenMembers.findIndex(currMember => currMember._id === teamMember._id);\r\n        if (memberIdx >= 0) {\r\n            choosenMembers.splice(memberIdx, 1);\r\n            const msg = `${teamMember.username} was released from the task '${this.props.task.title}'`;\r\n            this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n            utils.emitNotification(msg, 'danger');\r\n        } else {\r\n            choosenMembers.push(teamMember);\r\n            const msg = `${teamMember.username} was asigned to the task '${this.props.task.title}'`;\r\n            this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n            utils.emitNotification(msg, 'success');\r\n        }\r\n        this.setState({ choosenMembers }, this.setAvailableMembers);\r\n    }\r\n\r\n    onSave = () => {\r\n        const newTask = { ...this.props.task, taskTeamMembers: this.state.choosenMembers };\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            tasks: {\r\n                ...this.props.board.tasks,\r\n                [newTask.id]: newTask\r\n            }\r\n        }\r\n        this.props.updateBoard(newBoard);\r\n    }\r\n\r\n    onStopPropagation = (ev) => {\r\n        ev.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        let updateStyle = null;\r\n        if (this.props.style) {\r\n            updateStyle = {\r\n                left: 10 + 'px',\r\n                top: 72 + 'px',\r\n            }\r\n\r\n        }\r\n        \r\n        return (\r\n            <div className=\"members-container text-center column\"\r\n                onClick={(ev) => this.onStopPropagation(ev)}\r\n                style={{ ...updateStyle }}\r\n            >\r\n                <CloseIcon className=\"members-container-close-btn\" onClick={this.props.toggleChooseMembers} />\r\n                <p>ASSIGNED MEMBERS</p>\r\n                <hr />\r\n                <div className=\"members-container-colors-container flex column\">\r\n                    {this.props.task.taskTeamMembers.map(member => {\r\n                        return <div key={member._id} className=\"team-member flex\"\r\n                        onClick={() => this.updateChoosenMembers(member)}>\r\n                            <div className=\"team-member-icon-wrapper flex align-center justify-center\" style={{ backgroundColor: `${member.color}` }} >\r\n                                <div className=\"team-member-icon\">\r\n                                    <p>\r\n                                        {utils.createUserIcon(member.firstName,\r\n                                            member.lastName)}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <p>{member.firstName}</p>\r\n                            <p>{member.lastName}</p>\r\n                        </div>\r\n                    })\r\n                    }\r\n                </div>\r\n                <div className=\"add-team-members flex column\">\r\n                    <p> ADD A TEAM MEMBER </p>\r\n                    {this.state.availableMembers.map(teamMember => {\r\n                    // {this.props.board.teamMembers.map(teamMember => {\r\n                        return <div key={teamMember._id}\r\n                            className=\"team-member flex align-center\"\r\n                            onClick={() => this.updateChoosenMembers(teamMember)}>\r\n                            <div className=\"team-member-icon-wrapper flex align-center justify-center\" style={{ backgroundColor: `${teamMember.color}` }} >\r\n                                <div className=\"team-member-icon\">\r\n                                    <p>\r\n                                        {utils.createUserIcon(teamMember.firstName,\r\n                                            teamMember.lastName)}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <p>{teamMember.firstName}</p>\r\n                            <p>{teamMember.lastName}</p>\r\n                        </div>\r\n                    })\r\n                    }\r\n                </div >\r\n            </div >\r\n        );\r\n\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport utils from '../services/utils'\r\n\r\nimport DueDate from './DueDate';\r\nimport Labels from './Labels'\r\nimport Members from './Members'\r\n\r\nimport TitleIcon from '@material-ui/icons/Title';\r\nimport NotesIcon from '@material-ui/icons/Notes';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport LabelIcon from '@material-ui/icons/Label';\r\nimport EmojiPeopleIcon from '@material-ui/icons/EmojiPeople';\r\n\r\nexport default class TaskDetails extends Component {\r\n    state = {\r\n        description: '',\r\n        showActivity: false,\r\n        showEditDescriptionForm: false,\r\n        teamMembers: [],\r\n        deuDate: null,\r\n        toggleChooseLabels: false,\r\n        choosenlabels: [],\r\n        onToggleDueDate: false,\r\n        toggleChooseMembers: false,\r\n        choosenMembers: []\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ description: this.props.board.tasks[this.props.taskId].description });\r\n    }\r\n\r\n    emitChange = (ev) => {\r\n        const targetValue = ev.target.value;\r\n        this.setState({ description: targetValue });\r\n    }\r\n\r\n    toggleUpdateDescriptionForm = () => {\r\n        this.setState(prevState => ({ showEditDescriptionForm: !prevState.showEditDescriptionForm }))\r\n    }\r\n\r\n    onToggleDueDate = ev => {\r\n        ev.stopPropagation();\r\n        this.setState(prevState => ({ onToggleDueDate: !prevState.onToggleDueDate }));\r\n    }\r\n\r\n\r\n    closeUpdateDescriptionForm = () => {\r\n        this.setState({ toggleUpdateDescriptionForm: false })\r\n    }\r\n\r\n    onStopPropagationAndCloseOptions = (ev) => {\r\n        ev.stopPropagation();\r\n        this.setState({\r\n            toggleChooseLabels: false,\r\n            toggleChooseMembers: false\r\n        })\r\n    }\r\n\r\n    toggleChooseLabels = (ev) => {\r\n        ev.stopPropagation();\r\n        this.setState(prevState => ({ toggleChooseLabels: !prevState.toggleChooseLabels }))\r\n    }\r\n\r\n    onSaveDescription = (task) => {\r\n        const newTask = { ...task, description: this.state.description };\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            tasks: {\r\n                ...this.props.board.tasks,\r\n                [newTask.id]: newTask\r\n            }\r\n        }\r\n        this.props.updateBoard(newBoard);\r\n    }\r\n\r\n    toggleChooseMembers = (ev) => {\r\n        ev.stopPropagation();\r\n        this.setState(prevState => ({ toggleChooseMembers: !prevState.toggleChooseMembers }))\r\n    }\r\n\r\n\r\n    render() {\r\n        const task = this.props.board.tasks[this.props.taskId];\r\n        const { column } = this.props;\r\n        return (\r\n            <div className=\"screen flex align-center justify-center\" onClick={() => this.props.toggleTaskDetails()}>\r\n\r\n                <div className=\"task-details-container flex\" onClick={(ev) => this.onStopPropagationAndCloseOptions(ev)}>\r\n                    <CloseIcon className=\"add-column-back-to-board   flex align-center\"\r\n                        onClick={() => this.props.toggleTaskDetails()} />\r\n                    <div className=\"task-details-container-main full\">\r\n                        <header className=\"task-details-container-header\">\r\n                            <div className=\"flex align-center\">\r\n                                <TitleIcon />\r\n                                <h2>{task.title}</h2>\r\n                            </div>\r\n                            <div className=\"task-details-container-in-list flex\">\r\n                                <p className=\"flex\">in list \"{column.title}\"</p>\r\n                            </div>\r\n                        </header>\r\n\r\n                        <div className=\"task-details-container-labels-container\">\r\n\r\n                            {this.state.toggleChooseLabels ?\r\n                                <Labels\r\n                                    toggleChooseLabels={this.toggleChooseLabels}\r\n                                    board={this.props.board}\r\n                                    task={task}\r\n                                    updateBoard={this.props.updateBoard}\r\n                                /> : ''\r\n                            }\r\n                            {task.labels.length ?\r\n                                <div className=\"flex align-center\">\r\n                                    <LabelIcon />\r\n                                    <h2>Labels:</h2>\r\n                                </div>\r\n                                : ''\r\n                            }\r\n                            <div className=\"labels-choosen-container flex\">\r\n\r\n                                {\r\n                                    task.labels.map(label => {\r\n                                        return <div key={label} className={label + ' medium-label'}>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"task-details-container-members-container\">\r\n\r\n                            {this.state.toggleChooseMembers ?\r\n                                <Members\r\n                                    toggleChooseMembers={this.toggleChooseMembers}\r\n                                    board={this.props.board}\r\n                                    task={task}\r\n                                    updateBoard={this.props.updateBoard}\r\n                                    users={this.props.users}\r\n                                /> : ''\r\n                            }\r\n                            {task.taskTeamMembers.length ?\r\n                                <div className=\"flex align-center\">\r\n                                    <EmojiPeopleIcon />\r\n                                    <h2>Team members:</h2>\r\n                                </div>\r\n                                : ''\r\n                            }\r\n                            <div className=\"members-choosen-container flex column\">\r\n                                {\r\n                                    task.taskTeamMembers.map(member => {\r\n                                        return <div key={member._id} className=\"flex\">\r\n                                            <div className=\"team-member-icon-wrapper flex align-center justify-center\" style={{ backgroundColor: `${member.color}` }} >\r\n                                                <div className=\"team-member-icon flex align-center\">\r\n                                                    <p>\r\n                                                        {utils.createUserIcon(member.firstName,\r\n                                                            member.lastName)}\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <p className=\" flex align-center\">{member.firstName}</p>\r\n                                            <p className=\" flex align-center\"> {member.lastName}</p>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"task-details-container-main-description\">\r\n                            <div className=\"flex align-center\">\r\n                                <NotesIcon />\r\n                                <h2>Description</h2>\r\n                            </div>\r\n                            <div className=\"flex column text-area-wrapper\" onClick={this.toggleUpdateDescriptionForm}>\r\n                                <form onSubmit={this.save}>\r\n                                    <textarea className=\"fill-width\"\r\n                                        name=\"description\"\r\n                                        rows=\"3\"\r\n                                        cols=\"40\"\r\n                                        onInput={this.emitChange}\r\n                                        defaultValue={task.description}\r\n                                        placeholder=\"Add a more detailed description...\">\r\n                                    </textarea>\r\n                                </form>\r\n                                {this.state.showEditDescriptionForm ?\r\n                                    <div className=\"flex align-center\">\r\n                                        <button className=\"task-form-save-btn\" onClick={() => this.onSaveDescription(task)}>SAVE</button>\r\n                                        <CloseIcon className=\"task-form-back-btn\" onClick={this.closeUpdateDescriptionForm} />\r\n                                    </div> : ''\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"task-details-container-main-activity flex space-between\">\r\n                            <div className=\"flex align-center\">\r\n                                <ListAltIcon />\r\n                                <h2>Activity</h2>\r\n                            </div>\r\n                            <button>{this.state.showActivity ? 'Show Activity' : 'Hide Activity'}</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {this.state.onToggleDueDate ? <DueDate\r\n                        task={task}\r\n                        onToggle={this.onToggleDueDate}\r\n                        board={this.props.board}\r\n                        updateBoard={this.props.updateBoard}\r\n                    /> : ''}\r\n\r\n\r\n                    <div className=\"task-details-container-overall-options\">\r\n                        <div className=\"task-details-container-add-to-card-options-container\">\r\n                            <p className=\"text-center\">ADD TO CARD</p>\r\n                            <div className=\"task-details-container-add-to-card-options flex column\">\r\n                                <button className=\"task-details-container-add-to-card-options-btn btn\" onClick={(ev) => this.toggleChooseMembers(ev)} >Members</button>\r\n                                <button className=\"task-details-container-add-to-card-options-btn btn\" onClick={(ev) => this.toggleChooseLabels(ev)} >Labels</button>\r\n                                <button className=\"task-details-container-add-to-card-options-btn btn\" >Check List</button>\r\n                                <button className=\"task-details-container-add-to-card-options-btn btn\" onClick={ev => this.onToggleDueDate(ev)}>Due date</button>\r\n                                <button className=\"task-details-container-add-to-card-options-btn btn\" >Image</button>\r\n                                <button className=\"task-details-container-add-to-card-options-btn btn\" >Video</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"task-details-container-actions-options-container\">\r\n                            <p className=\"text-center\">ACTIONS</p>\r\n                            <div className=\"task-details-container-actions-options-actions flex column\">\r\n                                <button className=\"task-details-container-actions-options-btn btn\" >Move</button>\r\n                                <button className=\"task-details-container-actions-options-btn btn\" >Copy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\n\r\nexport default class MiniDetailsButton extends Component {\r\n\r\n    render() {\r\n        const { text, onClick } = this.props;\r\n        return <div className=\"mini-details-editor-button\"\r\n            onClick={onClick}>\r\n            <p>{text}</p>\r\n        </div>\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport MiniDetailsButton from './MiniDetailsButton';\r\nimport Labels from './Labels';\r\nimport DueDate from './DueDate';\r\nimport Members from './Members';\r\n\r\nimport utils from '../services/utils';\r\n\r\nexport default class MiniDetailsEditor extends Component {\r\n    state = {\r\n        onToggleLabels: false,\r\n        onToggleDueDate: false,\r\n        onToggleMembers: false\r\n    }\r\n\r\n    onToggleLabels = _ => {\r\n        this.setState(prevState => ({ onToggleLabels: !prevState.onToggleLabels }));\r\n    }\r\n\r\n    onToggleDueDate = _ => {\r\n        this.setState(prevState => ({ onToggleDueDate: !prevState.onToggleDueDate }));\r\n    }\r\n\r\n    onToggleMembers = _ => {\r\n        this.setState(prevState => ({ onToggleMembers: !prevState.onToggleMembers }));\r\n    }\r\n\r\n    onDelete = _ => {\r\n        const { miniTask } = this.props;\r\n        const board = { ...this.props.board };\r\n        const column = this.props.miniTask.column;\r\n        const taskIds = column.taskIds;\r\n        const task = board.tasks[miniTask.task.id];\r\n        const idx = taskIds.findIndex(taskId => taskId === miniTask.task.id);\r\n        taskIds.splice(idx, 1);\r\n        delete board.tasks[miniTask.task.id];\r\n        this.props.updateBoard(board);\r\n        this.props.onToggle();\r\n        let msg = `'${task.title}' was deleted by ${this.props.user}`;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() })\r\n        utils.emitNotification(msg, 'danger');\r\n    }\r\n\r\n    render() {\r\n        const { miniTask } = this.props;\r\n        return <div\r\n            className=\"mini-details-editor\"\r\n            style={{\r\n                left: (miniTask.left + 265) + 'px',\r\n                top: (miniTask.top + 1) + 'px'\r\n            }}\r\n        >\r\n            <MiniDetailsButton text=\" Edit Labels\" onClick={this.onToggleLabels} />\r\n            {this.state.onToggleLabels ? <Labels\r\n                miniTask={miniTask}\r\n                task={miniTask.task}\r\n                toggleChooseLabels={this.onToggleLabels}\r\n                board={this.props.board}\r\n                updateBoard={this.props.updateBoard} /> : ''}\r\n            <MiniDetailsButton text=\" Change Members\" onClick={this.onToggleMembers} />\r\n            {this.state.onToggleMembers ? <Members\r\n                style={true}\r\n                task={miniTask.task}\r\n                board={this.props.board}\r\n                updateBoard={this.props.updateBoard}\r\n                toggleChooseMembers={this.onToggleMembers}\r\n                users={this.props.users}\r\n            /> : ''}\r\n            <MiniDetailsButton text=\" Due Date\" onClick={this.onToggleDueDate} />\r\n            {this.state.onToggleDueDate ? <DueDate\r\n                task={miniTask.task}\r\n                onToggle={this.onToggleDueDate}\r\n                board={this.props.board}\r\n                updateBoard={this.props.updateBoard}\r\n            /> : ''}\r\n            <MiniDetailsButton text=\" Delete Task\" onClick={this.onDelete} />\r\n        </div>\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nexport default function ScreenFilter(props) {\r\n    return (\r\n        <div className=\"screen-filter\" onClick={_ => props.onToggle()}></div>\r\n    )\r\n}","import React, { Component } from 'react';\r\n\r\nimport MiniDetailsEditor from '../MiniDetailsEditor';\r\nimport ScreenFilter from '../ScreenFilter';\r\n\r\nimport utils from '../../services/utils';\r\n\r\nexport default class MiniTextDetails extends Component {\r\n    state = {\r\n        title: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refs.textarea.focus();\r\n    }\r\n\r\n    handleFocus = ev => {\r\n        ev.target.select();\r\n    }\r\n\r\n    emitChange = (ev) => {\r\n        const targetValue = ev.target.value;\r\n        this.setState({ title: targetValue });\r\n    }\r\n\r\n    onSave = _ => {\r\n        const newTask = { ...this.props.miniTask.task, title: this.state.title ? this.state.title : this.props.miniTask.task.title };\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            tasks: {\r\n                ...this.props.board.tasks,\r\n                [newTask.id]: newTask\r\n            }\r\n        }\r\n        this.props.updateBoard(newBoard);\r\n        this.props.onToggle();\r\n        let msg = `${this.props.user} changed the title of the task '${this.props.miniTask.task.title}' to '${this.state.title}'`;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n        utils.emitNotification(msg, 'success');\r\n    }\r\n\r\n    render() {\r\n        const { miniTask } = this.props;\r\n        const labelLen = miniTask.task.labels.length;\r\n        return <div className=\"mini-details-container\">\r\n            <div\r\n                className=\"mini-details\"\r\n                style={{\r\n                    left: miniTask.left + 'px',\r\n                    top: miniTask.top + 'px',\r\n                    height: miniTask.height + 'px'\r\n                }}\r\n            >\r\n                <div className=\"task-container-labels flex\">\r\n                    {miniTask.task.labels.map(label => {\r\n                        return <div key={label} className={label + ' small-label'}>\r\n                        </div>\r\n                    })\r\n                    }\r\n                </div>\r\n                <textarea\r\n                    name=\"title\"\r\n                    className={\"text-area\" + (labelLen > 0 ? ' preview-label' : '')}\r\n                    defaultValue={miniTask.task.title}\r\n                    ref=\"textarea\"\r\n                    onFocus={this.handleFocus}\r\n                    onInput={this.emitChange}\r\n                    placeholder=\"Add a task title...\"\r\n                >\r\n                </textarea>\r\n            </div>\r\n            <button\r\n                className=\"mini-details-save-btn\"\r\n                style={{\r\n                    left: miniTask.left + 'px',\r\n                    top: (miniTask.top + miniTask.height + 10) + 'px'\r\n                }}\r\n                onClick={this.onSave}\r\n            >SAVE</button>\r\n            <MiniDetailsEditor\r\n                users={this.props.users}\r\n                user={this.props.user}\r\n                miniTask={this.props.miniTask}\r\n                board={this.props.board}\r\n                updateBoard={this.props.updateBoard}\r\n                onToggle={this.props.onToggle}\r\n            />\r\n            <ScreenFilter onToggle={this.props.onToggle} />\r\n        </div >\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport MiniDetailsEditor from '../MiniDetailsEditor';\r\nimport ScreenFilter from '../ScreenFilter';\r\n\r\nimport utils from '../../services/utils';\r\n\r\nexport default class MiniImageDetails extends Component {\r\n    state = {\r\n        title: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refs.textarea.focus();\r\n    }\r\n\r\n    handleFocus = ev => {\r\n        ev.target.select();\r\n    }\r\n\r\n    emitChange = (ev) => {\r\n        const targetValue = ev.target.value;\r\n        this.setState({ title: targetValue });\r\n    }\r\n\r\n    onSave = _ => {\r\n        const newTask = { ...this.props.miniTask.task, title: this.state.title ? this.state.title : this.props.miniTask.task.title };\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            tasks: {\r\n                ...this.props.board.tasks,\r\n                [newTask.id]: newTask\r\n            }\r\n        }\r\n        this.props.updateBoard(newBoard);\r\n        this.props.onToggle();\r\n        let msg = `${this.props.user} updated the task '${this.props.miniTask.task.title}' to '${this.state.title}'`;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n        utils.emitNotification(msg, 'success');\r\n    }\r\n\r\n    render() {\r\n        const { miniTask } = this.props;\r\n        return <div className=\"mini-details-container\">\r\n            <div\r\n                className=\"mini-details\"\r\n                style={{\r\n                    left: miniTask.left + 'px',\r\n                    top: miniTask.top + 'px',\r\n                    height: miniTask.height + 'px'\r\n                }}\r\n            >\r\n                <img title={miniTask.task.id} alt=\"task\" width={miniTask.imgWidth} height={miniTask.imgHeight} src={miniTask.task.url} />\r\n\r\n                <textarea\r\n                    name=\"title\"\r\n                    className=\"text-area\"\r\n                    style={{\r\n                        height: miniTask.height - miniTask.imgHeight - 6,\r\n                        position: 'relative',\r\n                        // top: -5 + 'px'\r\n                    }}\r\n                    defaultValue={miniTask.task.title}\r\n                    ref=\"textarea\"\r\n                    onFocus={this.handleFocus}\r\n                    onInput={this.emitChange}\r\n                    placeholder=\"Add a task title...\"\r\n                >\r\n                </textarea>\r\n            </div>\r\n            <button\r\n                className=\"mini-details-save-btn\"\r\n                style={{\r\n                    left: miniTask.left + 'px',\r\n                    top: (miniTask.top + miniTask.height + (miniTask.task.title ? 10 : 32)) + 'px'\r\n                }}\r\n                onClick={this.onSave}\r\n            >SAVE</button>\r\n            <MiniDetailsEditor\r\n                users={this.props.users}\r\n                user={this.props.user}\r\n                miniTask={this.props.miniTask}\r\n                board={this.props.board}\r\n                updateBoard={this.props.updateBoard}\r\n                onToggle={this.props.onToggle} />\r\n            <ScreenFilter onToggle={this.props.onToggle} />\r\n        </div >\r\n    }\r\n}","import MiniTextDetails from './MiniTextDetails';\r\nimport MiniImageDetails from './MiniImageDetails';\r\nimport MiniVideoDetails from './MiniVideoDetails';\r\n\r\nexport default {\r\n    text: MiniTextDetails,\r\n    video: MiniVideoDetails,\r\n    image: MiniImageDetails\r\n}","import React, { Component } from 'react';\r\n\r\nimport MiniDetailsEditor from '../MiniDetailsEditor';\r\nimport ScreenFilter from '../ScreenFilter';\r\n\r\nimport utils from '../../services/utils'\r\n\r\nexport default class MiniVideoDetails extends Component {\r\n    state = {\r\n        title: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refs.textarea.focus();\r\n    }\r\n\r\n    handleFocus = ev => {\r\n        ev.target.select();\r\n    }\r\n\r\n    emitChange = (ev) => {\r\n        const targetValue = ev.target.value;\r\n        this.setState({ title: targetValue });\r\n    }\r\n\r\n    onSave = _ => {\r\n        const newTask = { ...this.props.miniTask.task, title: this.state.title ? this.state.title : this.props.miniTask.task.title };\r\n        const newBoard = {\r\n            ...this.props.board,\r\n            tasks: {\r\n                ...this.props.board.tasks,\r\n                [newTask.id]: newTask\r\n            }\r\n        }\r\n        this.props.updateBoard(newBoard);\r\n        this.props.onToggle();\r\n        let msg = `${this.props.user} updated the task '${this.props.miniTask.task.title}' to '${this.state.title}'`;\r\n        this.props.board.history.unshift({ id: utils.getRandomId(), msg: msg, time: Date.now() });\r\n        utils.emitNotification(msg, 'success');\r\n    }\r\n\r\n    render() {\r\n        const { miniTask } = this.props;\r\n        const videoDimensions = { height: 140, width: 246 };\r\n        return <div className=\"mini-details-container\">\r\n            <div\r\n                className=\"mini-details\"\r\n                style={{\r\n                    left: miniTask.left + 'px',\r\n                    top: miniTask.top + 'px',\r\n                    height: miniTask.height + 'px'\r\n                }}\r\n            >\r\n                <iframe title={miniTask.task.id}\r\n                    type='text/html' width={videoDimensions.width}\r\n                    height={videoDimensions.height}\r\n                    src={miniTask.task.url}\r\n                    allowFullScreen=\"allowfullscreen\"></iframe>\r\n                <textarea\r\n                    name=\"title\"\r\n                    className=\"text-area\"\r\n                    style={{\r\n                        height: miniTask.height - videoDimensions.height,\r\n                        position: 'relative',\r\n                        bottom: 8 + 'px'\r\n                    }}\r\n                    defaultValue={miniTask.task.title}\r\n                    ref=\"textarea\"\r\n                    onFocus={this.handleFocus}\r\n                    onInput={this.emitChange}\r\n                    placeholder=\"Add a task title...\"\r\n                >\r\n                </textarea>\r\n            </div>\r\n            <button\r\n                className=\"mini-details-save-btn\"\r\n                style={{\r\n                    left: miniTask.left + 'px',\r\n                    top: (miniTask.top + miniTask.height + (miniTask.task.title ? 10 : 32)) + 'px'\r\n                }}\r\n                onClick={this.onSave}\r\n            >SAVE</button>\r\n            <MiniDetailsEditor\r\n                users={this.props.users}\r\n                user={this.props.user}\r\n                miniTask={this.props.miniTask}\r\n                board={this.props.board}\r\n                updateBoard={this.props.updateBoard}\r\n                onToggle={this.props.onToggle} />\r\n            <ScreenFilter onToggle={this.props.onToggle} />\r\n        </div >\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport mapDynamicMiniComponents from \"./mapDynamicMiniComponents\"\r\n\r\nexport default class DynamicMiniComponent extends Component {\r\n    state = {\r\n        previewType: 'text'\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ previewType: this.props.miniTask.previewType });\r\n    }\r\n\r\n    getComponent() {\r\n        return mapDynamicMiniComponents[this.state.previewType];\r\n    }\r\n\r\n    render() {\r\n        const Cmp = this.getComponent();\r\n        return <React.Fragment>\r\n            <Cmp\r\n                miniTask={this.props.miniTask}\r\n                updateBoard={this.props.updateBoard}\r\n                onToggle={this.props.onToggle}\r\n                board={this.props.board}\r\n                user={this.props.user}\r\n                users={this.props.users}\r\n            >\r\n            </Cmp>\r\n        </React.Fragment>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { store } from 'react-notifications-component';\r\n\r\nimport pageLoading from '../cmps/LoadPage';\r\nimport BoardColumns from '../cmps/BoardColumns';\r\nimport BoardHistory from '../cmps/BoardHistory';\r\nimport BoardTeamMembers from '../cmps/BoardTeamMembers';\r\nimport ColumnAddForm from '../cmps/ColumnAddForm';\r\nimport Login from '../cmps/Login';\r\nimport Filter from '../cmps/Filter';\r\nimport Sort from '../cmps/Sort';\r\nimport SplashMenu from '../cmps/SplashMenu';\r\nimport TaskDetails from '../cmps/TaskDetails';\r\nimport DynamicMiniComponent from '../cmps/dynamics/DynamicMiniComponent';\r\n\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport utils from '../services/utils';\r\nimport SocketService from '../services/SocketService';\r\n\r\nimport { loadBoard, updateBoard, setBoard } from '../actions/BoardActions';\r\nimport { logout, getLoggedInUser, getUsers } from '../actions/UserActions';\r\n\r\nclass Board extends Component {\r\n\r\n  state = {\r\n    showAddColumn: true,\r\n    showForm: false,\r\n    showTaskDetails: false,\r\n    showMiniTaskDetails: false,\r\n    currTaskId: '',\r\n    toggleUploadBgImg: false,\r\n    toggleLogin: false,\r\n    toggleSplashMenu: false,\r\n    showHistory: false,\r\n    toggleBoardTeamMembers: false,\r\n    miniTaskDetails: {},\r\n    filterBy: {\r\n      title: '',\r\n      teamMembers: ''\r\n    },\r\n    sortBy: '',\r\n    sortOrder: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getUsers();\r\n    this.props.getLoggedInUser();\r\n    this.loadBoard();\r\n    const boardId = this.props.match.params.id;\r\n    SocketService.setup();\r\n    SocketService.emit('boardId', boardId);\r\n    SocketService.on('updateBoard', (board) => this.props.setBoard(board));\r\n    SocketService.on('getNotification', (notification) => store.addNotification(notification));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    SocketService.off('updateBoard');\r\n    SocketService.off('getNotification');\r\n    SocketService.terminate();\r\n  }\r\n\r\n  loadBoard = () => {\r\n    const boardId = this.props.match.params.id;\r\n    const filterBy = this.state.filterBy;\r\n    const sortBy = this.state.sortBy;\r\n    const sortOrder = this.state.sortOrder;\r\n    this.props.loadBoard(boardId, filterBy, sortBy, sortOrder);\r\n  }\r\n\r\n  toggleAddForm = () => {\r\n    this.setState((prevState) => ({\r\n      showForm: !prevState.showForm,\r\n      showAddColumn: !prevState.showAddColumn\r\n    }))\r\n  }\r\n\r\n  goBack = () => {\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  toggleLogin = (ev) => {\r\n    ev.stopPropagation()\r\n    this.setState((prevState) => ({\r\n      toggleLogin: !prevState.toggleLogin,\r\n      showHistory: false,\r\n      toggleBoardTeamMembers: false,\r\n      toggleSplashMenu: false\r\n    }))\r\n  }\r\n\r\n  closeAllTabs = (ev) => {\r\n    ev.stopPropagation()\r\n    this.setState({\r\n      toggleLogin: false,\r\n      toggleSplashMenu: false,\r\n      showHistory: false,\r\n      toggleBoardTeamMembers: false\r\n    })\r\n  }\r\n\r\n  toggleTaskDetails = (currTask) => {\r\n    if (currTask === undefined) {\r\n      this.setState(prevState => ({ showTaskDetails: !prevState.showTaskDetails }));\r\n    } else if (this.state.showTaskDetails && currTask.id !== this.state.currTask.id) {\r\n      this.setState({ currTask });\r\n    } else {\r\n      this.setState(prevState => ({ showTaskDetails: !prevState.showTaskDetails, currTask }));\r\n    }\r\n  }\r\n\r\n  onAddImg = (ev) => {\r\n    const file = ev.target.files[0];\r\n    utils.uploadImg(file).then(res => {\r\n      const newBoard = { ...this.props.board }\r\n      newBoard.boardBgImage = res\r\n      this.props.updateBoard(newBoard);\r\n      this.toggleUploadBgImg();\r\n    })\r\n  }\r\n\r\n  onFilter = (filterBy) => {\r\n    this.setState({ filterBy }, this.loadBoard);\r\n  }\r\n\r\n  onSort = (sortBy, sortOrder) => {\r\n    this.setState({ sortBy, sortOrder }, this.loadBoard);\r\n  }\r\n\r\n  toggleMiniDetails = miniTask => {\r\n    if (miniTask) {\r\n      return this.setState(prevState => ({ showMiniTaskDetails: !prevState.showMiniTaskDetails, miniTaskDetails: miniTask }));\r\n    }\r\n    this.setState(prevState => ({ showMiniTaskDetails: !prevState.showMiniTaskDetails }));\r\n  }\r\n\r\n  toggleSplashMenu = (ev) => {\r\n    ev.stopPropagation();\r\n    this.setState(prevState => ({\r\n      toggleSplashMenu: !prevState.toggleSplashMenu,\r\n      showHistory: false,\r\n      toggleBoardTeamMembers: false,\r\n      toggleLogin: false\r\n    }));\r\n  }\r\n  toggleBoardHistory = (ev) => {\r\n    ev.stopPropagation();\r\n    this.setState(prevState => ({\r\n      showHistory: !prevState.showHistory,\r\n      toggleSplashMenu: false,\r\n      toggleBoardTeamMembers: false,\r\n      toggleLogin: false\r\n    }));\r\n  }\r\n\r\n  toggleBoardTeamMembers = (ev) => {\r\n    ev.stopPropagation();\r\n    this.setState(prevState => ({\r\n      toggleBoardTeamMembers: !prevState.toggleBoardTeamMembers,\r\n      showHistory: false,\r\n      toggleSplashMenu: false,\r\n      toggleLogin: false\r\n    }))\r\n  }\r\n\r\n  render() {\r\n\r\n    let button;\r\n\r\n    if (!this.props.board.columns) return pageLoading();\r\n\r\n    if (this.props.loggedInUser) {\r\n      button = <button className=\"board-page-nav-bar nav-btn\"\r\n        onClick={this.props.logout}>\r\n        logout\r\n      </button>\r\n    } else {\r\n      button = <button className=\"board-page-nav-bar nav-btn\"\r\n        onClick={ev => this.toggleLogin(ev)}>\r\n        login\r\n      </button>\r\n    }\r\n\r\n    return (\r\n      <div className=\"screen\" onClick={this.closeAllTabs}>\r\n        <div className=\"board-page fill-height flex column\" style={{ backgroundImage: 'url(' + this.props.board.boardBgImage + ')' }}>\r\n\r\n          <div className=\"board-page-nav-bar flex space-between\">\r\n            <div className=\"board-page-nav-bar-logo\" onClick={this.goBack}> </div>\r\n            <div className=\"flex align-center\">\r\n              {this.props.loggedInUser && <p className=\"logged-in-user\">Logged in as: {this.props.loggedInUser.username}</p>}\r\n              {button}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"board-page-nav-bar-filters flex align-center space-between\">\r\n            <div className=\"board-page-nav-bar-filters-item flex align-center\">\r\n              <button className=\"board-page-nav-bar-filters nav-btn flex\">\r\n                <HomeIcon onClick={this.goBack} />\r\n              </button>\r\n              <Filter onFilter={this.onFilter} teamMembers={this.props.board.teamMembers} />\r\n              <Sort onSort={this.onSort} />\r\n            </div>\r\n            <div className=\"flex\">\r\n              <div className=\"board-page-nav-bar-filters-item fill-height\">\r\n                <button className=\"nav-btn fill-height\"\r\n                  onClick={this.toggleBoardTeamMembers}>Add Members To Board</button>\r\n              </div>\r\n              <div className=\"board-page-nav-bar-filters-item fill-height\">\r\n                <button className=\"nav-btn fill-height\"\r\n                  onClick={(ev) => this.toggleSplashMenu(ev)}>Change Background Image</button>\r\n              </div>\r\n              <div className=\"board-page-nav-bar-filters-item flex fill-height\">\r\n                <button className=\"board-page-nav-bar-filters nav-btn\"\r\n                  onClick={this.toggleBoardHistory}>Show Board History</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <SplashMenu\r\n            toggleSplashMenu={this.state.toggleSplashMenu}\r\n            board={this.props.board}\r\n            updateBoard={this.props.updateBoard}\r\n            toggleUploadBgImg={this.toggleUploadBgImg}\r\n            onAddImg={this.onAddImg}\r\n            showUploadBgImg={this.state.toggleUploadBgImg}\r\n            user={this.props.loggedInUser ? this.props.loggedInUser.username : 'Guest'} />\r\n\r\n          {(this.state.toggleLogin) && <Login variant=\"outlined\" className=\"home-page-login\" toggleLogin={this.toggleLogin} />}\r\n          <div className=\"board-page-columns-container\">\r\n\r\n            <div className=\"flex align-start fill-height\">\r\n              <Login\r\n                variant=\"outlined\"\r\n                className=\"home-page-login\"\r\n                toggleLogin={this.toggleLogin}\r\n                toggleState={this.state.toggleLogin} />\r\n              <BoardColumns\r\n                board={this.props.board}\r\n                updateBoard={this.props.updateBoard}\r\n                toggleTaskDetails={this.toggleTaskDetails}\r\n                toggleMiniDetails={this.toggleMiniDetails}\r\n                user={this.props.loggedInUser ? this.props.loggedInUser.username : 'Guest'} />\r\n              <div className=\"flex column align-center\">\r\n                {(this.state.showAddColumn) ?\r\n                  <button className=\"board-page-add-another-column-btn\" onClick={this.toggleAddForm}>\r\n                    + Add another list..  </button> : ''\r\n                }\r\n                {(this.state.showForm) && <ColumnAddForm board={this.props.board} updateBoard={this.props.updateBoard}\r\n                  toggleAddForm={this.toggleAddForm} user={this.props.loggedInUser ? this.props.loggedInUser.username : 'Guest'} />}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {this.state.showTaskDetails && <TaskDetails\r\n            taskId={this.state.currTask.id}\r\n            board={this.props.board}\r\n            column={this.state.currTask.column}\r\n            updateBoard={this.props.updateBoard}\r\n            toggleTaskDetails={this.toggleTaskDetails} />}\r\n          {this.state.showMiniTaskDetails && <DynamicMiniComponent\r\n            miniTask={this.state.miniTaskDetails}\r\n            updateBoard={this.props.updateBoard}\r\n            onToggle={this.toggleMiniDetails}\r\n            board={this.props.board}\r\n            user={this.props.loggedInUser ? this.props.loggedInUser.username : 'Guest'}\r\n            users={this.props.users}\r\n\r\n          />}\r\n\r\n          <BoardHistory variant=\"outlined\"\r\n            className=\"home-page-login\" history={this.props.board.history} showHistory={this.state.showHistory}\r\n            toggleBoardHistory={this.toggleBoardHistory} />\r\n\r\n          <BoardTeamMembers board={this.props.board}\r\n            users={this.props.users} toggleBoardTeamMembers={this.state.toggleBoardTeamMembers}\r\n            updateBoard={this.props.updateBoard} />\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    board: state.boards.board,\r\n    loggedInUser: state.user.loggedInUser,\r\n    users: state.user.users\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadBoard,\r\n  updateBoard,\r\n  logout,\r\n  getLoggedInUser,\r\n  setBoard,\r\n  getUsers\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport pageLoading from '../cmps/LoadPage';\r\nimport BoardColumns from '../cmps/BoardColumns'\r\nimport ColumnAddForm from '../cmps/ColumnAddForm'\r\nimport Login from '../cmps/Login';\r\nimport Filter from '../cmps/Filter';\r\nimport Sort from '../cmps/Sort';\r\nimport TaskDetails from '../cmps/TaskDetails';\r\n\r\nimport { loadBoard, createBoard, updateBoardOffline } from '../actions/BoardActions';\r\nimport { logout } from '../actions/UserActions';\r\n\r\nclass EmptyBoard extends Component {\r\n\r\n  state = {\r\n    showAddColumn: true,\r\n    showForm: false,\r\n    isTaskDetailsOccupied: false,\r\n    toggleLogin: false,\r\n    miniTaskDetails: {},\r\n    filterBy: {\r\n      title: ''\r\n    },\r\n    sortBy: '',\r\n    sortOrder: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    let sessionBoard = JSON.parse(sessionStorage.getItem('board'));\r\n    if (sessionBoard) {\r\n      delete sessionBoard._id;\r\n      this.props.updateBoardOffline(sessionBoard);\r\n    } else {\r\n      const boardId = '5e2581b51c9d44000081af2a';\r\n      const filterBy = this.state.filterBy;\r\n      this.props.loadBoard(boardId, filterBy);\r\n    }\r\n    // SocketService.setup();\r\n    // SocketService.emit('chat topic', this.state.topic);\r\n    // SocketService.on('chat addMsg', this.addMsg);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // SocketService.off('chat addMsg', this.addMsg);\r\n    // SocketService.terminate();\r\n  }\r\n\r\n  toggleAddForm = () => {\r\n    this.setState((prevState) => ({\r\n      showForm: !prevState.showForm,\r\n      showAddColumn: !prevState.showAddColumn\r\n    }))\r\n  }\r\n\r\n  goBack = () => {\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  toggleLogin = (ev) => {\r\n    if (ev) ev.stopPropagation();\r\n    this.setState((prevState) => ({ toggleLogin: !prevState.toggleLogin }))\r\n  }\r\n\r\n  closeLogin = (ev) => {\r\n    ev.stopPropagation()\r\n    this.setState({ toggleLogin: false })\r\n  }\r\n\r\n  toggleTaskDetails = (currTask) => {\r\n    if (!(currTask === undefined)) {\r\n      this.setState(prevState => ({ showTaskDetails: !prevState.showTaskDetails, currTask }));\r\n    } else {\r\n      this.setState(prevState => ({ showTaskDetails: !prevState.showTaskDetails }));\r\n    }\r\n  }\r\n\r\n  onFilter = (filterBy) => {\r\n    const boardId = this.props.match.params.id;\r\n    this.props.loadBoard(boardId, filterBy);\r\n  }\r\n\r\n\r\n  saveBoard = async () => {\r\n    let board = this.props.board;\r\n    delete board._id;\r\n    board.createdBy = this.props.loggedInUser;\r\n    const newBoard = await this.props.createBoard(board);\r\n    this.props.history.push(`/board/${newBoard._id}`);\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.props.board.columns) return pageLoading();\r\n    let loginButton, saveBoardButton;\r\n    if (this.props.loggedInUser) {\r\n      loginButton = <button className=\"board-page-login-btn\">\r\n        <div onClick={this.props.logout}>logout</div>\r\n      </button>\r\n      saveBoardButton = <button className=\"board-page-nav-bar-filters nav-btn\" onClick={this.saveBoard}>SAVE BOARD</button>\r\n    }\r\n    else {\r\n      loginButton = <button className=\"board-page-nav-bar nav-btn\">\r\n        <div onClick={this.toggleLogin}>login</div>\r\n      </button>\r\n    }\r\n\r\n    if (this.props.loggedInUser) {\r\n      loginButton = <button className=\"board-page-nav-bar nav-btn\"\r\n        onClick={this.props.logout}>\r\n        logout\r\n      </button>\r\n    }\r\n\r\n    return (\r\n      <div className=\"board-page fill-height flex column\" onClick={this.closeLogin}>\r\n\r\n        <div className=\"board-page-nav-bar flex space-between\">\r\n          <div className=\"board-page-nav-bar-logo\" onClick={this.goBack}> </div>\r\n          {this.props.loggedInUser && this.props.loggedInUser.username}\r\n          {loginButton}\r\n        </div>\r\n\r\n        <div className=\"board-page-nav-bar-filters flex align-center\">\r\n          <button className=\"board-page-nav-bar-filters-item nav-btn flex\">\r\n            <HomeIcon onClick={this.goBack} />\r\n          </button>\r\n            {saveBoardButton}\r\n            <Filter onFilter={this.onFilter} />\r\n            <Sort onSort={this.onSort} />\r\n        </div>\r\n\r\n        {(this.state.toggleLogin) && <Login variant=\"outlined\" className=\"home-page-login\" toggleLogin={this.toggleLogin} />}\r\n        <div className=\"board-page-columns-container fill-height\">\r\n          <div>\r\n            <div className=\"flex align-start\">\r\n              <Login\r\n                variant=\"outlined\"\r\n                className=\"home-page-login\"\r\n                toggleLogin={this.toggleLogin}\r\n                toggleState={this.state.toggleLogin} />\r\n              <BoardColumns\r\n                board={this.props.board}\r\n                updateBoard={this.props.updateBoardOffline}\r\n                toggleTaskDetails={this.toggleTaskDetails}\r\n              />\r\n              <div className=\"flex column align-center\">\r\n                {(this.state.showAddColumn) ?\r\n                  <button className=\"board-page-add-another-column-btn\" onClick={this.toggleAddForm}>\r\n                    + Add another list..  </button> : ''\r\n                }\r\n                {(this.state.showForm) && <ColumnAddForm board={this.props.board} updateBoard={this.props.updateBoardOffline}\r\n                  toggleAddForm={this.toggleAddForm} />}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {this.state.showTaskDetails && <TaskDetails\r\n          taskId={this.state.currTask.id}\r\n          board={this.props.board}\r\n          column={this.state.currTask.column}\r\n          updateBoard={this.props.updateBoard}\r\n          toggleTaskDetails={this.toggleTaskDetails} />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    board: state.boards.board,\r\n    loggedInUser: state.user.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadBoard,\r\n  updateBoardOffline,\r\n  createBoard,\r\n  logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EmptyBoard);","import React from 'react';\r\nimport { Router, Switch, Route } from 'react-router';\r\n// import { Link } from 'react-router-dom'\r\nimport history from './history';\r\nimport '../src/styles/global.scss'\r\n\r\nimport Home from './pages/Home.js';\r\nimport Board from './pages/Board.js';\r\nimport EmptyBoard from './pages/EmptyBoard.js'\r\n// import About from './pages/About.js';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n      <Router history={history}>\r\n        <Switch>\r\n          <Route path=\"/\" component={Home} exact />\r\n          <Route path=\"/board/getstarted\" component={EmptyBoard} exact />\r\n          <Route path=\"/board/:id\" component={Board} exact />\r\n        </Switch>\r\n      </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\r\n  boards: [],\r\n  board: {}\r\n};\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_BOARDS':\r\n      return { ...state, boards: action.boards };\r\n    case 'SET_BOARD':\r\n      return { ...state, board: action.board };\r\n    case 'UPDATE_BOARD':\r\n      return { ...state, board: action.board };\r\n    case 'ADD_BOARD':\r\n      return { ...state, boards: [...state.boards, action.addedBoard] };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let localLoggedinUser = null;\r\n// if (localStorage.user) localLoggedinUser = JSON.parse(localStorage.user);\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n};\r\n\r\nexport default function(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user };\r\n    case 'SET_USERS':\r\n      return {...state, users: action.users};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true };\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false };\r\n    default: return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport BoardReducer from './BoardReducer'\r\nimport UserReducer from './UserReducer';\r\nimport SystemReducer from './SystemReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  boards: BoardReducer,\r\n  system: SystemReducer,\r\n  user: UserReducer\r\n})\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst Store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default Store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport ReactNotification from 'react-notifications-component';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'react-notifications-component/dist/theme.css';\n\nimport Store from './store';\n\nReactDOM.render(\n  <Provider store={Store}>\n    <ReactNotification />\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}